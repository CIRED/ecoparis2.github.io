{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Layers.vue?83df","webpack:///./src/components/About.vue?410e","webpack:///./src/App.vue?a437","webpack:///./src/components/Intro.vue?10a6","webpack:///src/components/Intro.vue","webpack:///./src/components/Intro.vue?21f1","webpack:///./src/components/Intro.vue","webpack:///./src/components/Tutorial.vue?cf1f","webpack:///src/components/Tutorial.vue","webpack:///./src/components/Tutorial.vue?f96f","webpack:///./src/components/Tutorial.vue","webpack:///./src/components/About.vue?0bc0","webpack:///src/components/About.vue","webpack:///./src/components/About.vue?f71c","webpack:///./src/components/About.vue?a6dc","webpack:///./src/components/ZoomControl.vue?7d7c","webpack:///src/components/ZoomControl.vue","webpack:///./src/components/ZoomControl.vue?b509","webpack:///./src/components/ZoomControl.vue","webpack:///./src/components/LocationControl.vue?b9be","webpack:///src/components/LocationControl.vue","webpack:///./src/components/LocationControl.vue?071a","webpack:///./src/components/LocationControl.vue","webpack:///./src/components/Layers.vue?ab02","webpack:///src/components/Layers.vue","webpack:///./src/components/Layers.vue?1d7e","webpack:///./src/components/Layers.vue","webpack:///./src/components/Map.vue?eede","webpack:///./src/shared.js","webpack:///./src/update.js","webpack:///./src/helpers.js","webpack:///./src/layers.js","webpack:///./src/shapes.js","webpack:///./src/map.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/Sidebar.vue?76e1","webpack:///./src/components/Histogram.vue?964f","webpack:///src/components/Histogram.vue","webpack:///./src/components/Histogram.vue?11b6","webpack:///./src/components/Histogram.vue?d72a","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?bcb1","webpack:///./src/components/Map.vue?357b","webpack:///./src/components/Histogram.vue?f54f","webpack:///./src/components/Intro.vue?6183","webpack:///./src/components/LocationControl.vue?9aba","webpack:///./src/components/Sidebar.vue?652c","webpack:///./src/components/ZoomControl.vue?ecf3","webpack:///./src/components/Tutorial.vue?b206"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_About_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_About_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_05a50a62_render","this$1","this","_vm","_h","$createElement","_c","_self","class","currentTutorialStep","attrs","id","isLoading","currentLayerLoaded","on","dismiss","introVisible","_e","aboutVisible","staticClass","currentLayerPath","layerChange","path","model","callback","$$v","expression","onLocation","loc","currentLocation","layers","zoomOut","currentZoom","zoomIn","href","click","$event","preventDefault","_v","_s","$t","isFuture","toggleFuture","newHistogram","x","y","currentHistogramX","currentHistogramY","newSchools","schoolCount","newName","interCommName","staticRenderFns","Introvue_type_template_id_99b3ffc6_render","_m","startFrench","startEnglish","Introvue_type_template_id_99b3ffc6_staticRenderFns","src","Introvue_type_script_lang_js_","props","methods","$i18n","locale","$emit","components_Introvue_type_script_lang_js_","component","componentNormalizer","options","__file","Intro","Tutorialvue_type_template_id_cad1f21e_render","domProps","innerHTML","currentStepHtml","close","next","Tutorialvue_type_template_id_cad1f21e_staticRenderFns","onKeyUp","e","which","keyCode","prev","Tutorialvue_type_script_lang_js_","mounted","document","body","addEventListener","beforeDestroy","removeEventListener","computed","concat","watch","components_Tutorialvue_type_script_lang_js_","Tutorial_component","Tutorial","Aboutvue_type_template_id_5a3679a6_render","Aboutvue_type_template_id_5a3679a6_staticRenderFns","Aboutvue_type_script_lang_js_","components_Aboutvue_type_script_lang_js_","About_component","About","ZoomControlvue_type_template_id_1fc96b4c_render","ZoomControlvue_type_template_id_1fc96b4c_staticRenderFns","ZoomControlvue_type_script_lang_js_","components_ZoomControlvue_type_script_lang_js_","ZoomControl_component","ZoomControl","LocationControlvue_type_template_id_4e4c0aaa_render","locate","search","active","searchExpanded","toggleSearch","ref","type","keyup","LocationControlvue_type_template_id_4e4c0aaa_staticRenderFns","LocationControlvue_type_script_lang_js_","_this","api","google","maps","places","Autocomplete","$refs","searchInput","setFields","setOptions","strictBounds","setBounds","north","config","viewport","topLatitude","south","bottomLatitude","west","leftLongitude","east","rightLongitude","addListener","place","getPlace","geometry","location","lat","lng","_this2","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","focus","components_LocationControlvue_type_script_lang_js_","LocationControl_component","LocationControl","Layersvue_type_template_id_0ddeb0e1_render","_l","layer","hidden","style","background","active_color","color","title","select","loaded","Layersvue_type_template_id_0ddeb0e1_staticRenderFns","Layersvue_type_script_lang_js_","loading","components_Layersvue_type_script_lang_js_","Layers_component","Layers","Mapvue_type_template_id_f224b8de_render","hasFutureAvailable","futureColor","presentColor","backgroundColor","forestColor","waterColor","greenColor","currentUnit","Mapvue_type_template_id_f224b8de_staticRenderFns","cachedLayers","map","mapElement","currentGeoLat","currentGeoLng","svg_EV","svg_circle_EV","interComms","voronoi","imgs","imgs_EV","update_parameters","markerElement","canvas","voronoi_shape","interComm_shape","firstVoronoiByInterComm","pathGenerator","defs_path","legend_element","color_legend_canvas","color_legend_svg","onSchools","onHistChange","onNewName","highlightedInterComm","initialBounds","markerIcon","lastMouseDownX","lastMouseDownY","voronoiContainment","interCommContainment","showCirclePreview","showFutureInsteadOfEV","lastMousePosition","currentChartIndex","currentChartIndexIsVoronoi","shared","_cachedLayers$current","Config","require","update_clip","clip_projectPoint","default_tl_point","latLngToLayerPoint","tl_lat","tl_lng","default_br_point","br_lat","br_lng","width","height","point","L","latLng","tx","ty","stream","clip_transform","d3","geo","transform","clip_path","projection","attr","update_EV_preview","mouseX","mouseY","updateCirclePreviewPath","layer_path","currentCircleLayerPath","svg_width","parseInt","substr","svg_height","svg_circle_width","svg_circle_height","magnifyingRatio","tl","br","tl_pixels","latLngToContainerPoint","pixels_on_left","pixels_on_top","magnified_tl_pixels","image_width","image_height","update_chart","layerURL","voro","info","future","entire_hist","voronoi_hist","interComm_hist","Urban_cooling","helpers_f","range","update_text_school","Ecole_path","pop","updateMarker","iconAnchor","updateMap","hide","console","log","color_present","color_future","EV_path","color_ev","updateCirclePreviewLayer","url","update","colorSchemeDict","0","interpolateOranges","1","interpolateRdBu","2","interpolateBlues","3","interpolateGnBu","4","interpolateRdYlGn","loadContainmentFile","fetch","then","res","json","JSON","parse","MAP_TILES","MAP_ATTRIB","createMap","element","zoomControl","fitBounds","setMaxBounds","getBounds","pad","base","tileLayer","minZoom","maxZoom","attribution","addTo","isWithinParis","features","some","geoContains","setLocation","setView","LatLng","update_f","getColorsFromScheme","colorSchemeId","currentScheme","fillScale","scale_canvas","scale_svg","colorScale","minValue","maxValue","invertColorScheme","legendHeight","legendWidth","margin","top","right","bottom","left","node","ctx","getContext","legendScale","image","createImageData","rgb","g","b","putImageData","domain","legendAxis","axisRight","scale","scaleLinear","tickSize","ticks","svg","computeColorRange","percentiles","colors","domain_percentiles","unshift","domainLength","rangeLength","intermediateDomain","intermediateScale","linear","range_out","blankStyle","feature","opacity","fillOpacity","handleKeyEvent","charCode","helpers","loadLayer","truePath","pixels","tempContext","len","workersCount","finished","segmentLength","blockSize","voronoi_means","voronoi_counts","interComm_means","interComm_counts","onWorkEnded","canvasData","index","interComm_counts_portion","interComm_means_portion","voronoi_counts_portion","voronoi_means_portion","firstVoronoiByInterCommPortion","voronoi_hist_portion","interComm_hist_portion","hist_buckets","toDataURL","useColorScheme","colorScheme","layerUrl","domain_range","domain_continuous","range_continuous","worker","Worker","onmessage","getImageData","postMessage","voronoiContainmentData","interCommContainmentData","numVoronois","numInterComms","colorDomain","colorRange","setLayer","layerPath","currentGaoLng","_","min_value","max_value","setEVLayer","src_layers","oneIfInInterComm","interCommIndex","oneIfInInterComm_","defineVoronoi","emptyOpacity","fullOpacity","append","selectAll","enter","datum","properties","nomgroup","event","clientX","clientY","getBoundingClientRect","defineInterComms","fadedOpacity","Math","abs","BBox","getBBox","neBound","layerPointToLatLng","swBound","latLngBounds","shapes","src_map","EV_svg_element","EV_circle_svg_element","error","default_tl","default_br","setLocationFromCurrent","geoJson","projectPoint","defs","shape_EV","shapes_f","iconUrl","iconSize","createElement","layers_f","Mapvue_type_script_lang_js_","zoomMinus","zoomPlus","isEspacesVerts","currentLayerId","currentYear","Date","getFullYear","urlInterComm","urlVoronoi","urlInterCommContainment","urlVoronoiContainment","queue","defer","await","v","_displayMap","circle_svg","legend","_displayMap2","slicedToArray","keys","forEach","_ref","_ref2","after","before","components_Mapvue_type_script_lang_js_","Map_component","Map","Sidebarvue_type_template_id_0b6d1ab2_render","count","Sidebarvue_type_template_id_0b6d1ab2_staticRenderFns","alt","Histogramvue_type_template_id_40135842_render","Histogramvue_type_template_id_40135842_staticRenderFns","Histogramvue_type_script_lang_js_","updateChart","innerWidth","innerHeight","rangeRound","xAxis","yAxis","xLegend","text","xData","yData","currentLayer","layerScale","hist_legend","nonZero","filter","xMin","xMax","yMax","max","xs","ys","axisLeft","axisBottom","tickFormat","toPrecision","tickPadding","bars","merge","ceil","exit","remove","components_Histogramvue_type_script_lang_js_","Histogram_component","Histogram","Sidebarvue_type_script_lang_js_","components","components_Sidebarvue_type_script_lang_js_","Sidebar_component","Sidebar","defaultLayerPath","Appvue_type_script_lang_js_","reduce","sidebarVisible","logKey","src_Appvue_type_script_lang_js_","App_component","App","Vue","productionTip","use","VueI18n","render","h","i18n","messages","fr","en","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tutorial_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tutorial_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.c2105c85.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[(\"tutorial-\" + _vm.currentTutorialStep)],attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.introVisible)?_c('Intro',{attrs:{\"isLoading\":!_vm.currentLayerLoaded},on:{\"dismiss\":function () { return _vm.introVisible = false; }}}):_vm._e()],1),(_vm.aboutVisible)?_c('About',{on:{\"dismiss\":function () { return _vm.aboutVisible = false; }}}):_vm._e(),_c('section',{staticClass:\"horizontal-split\"},[_c('Tutorial',{attrs:{\"currentLayerPath\":_vm.currentLayerPath},on:{\"layerChange\":function (path) { return this$1.currentLayerPath = path; }},model:{value:(_vm.currentTutorialStep),callback:function ($$v) {_vm.currentTutorialStep=$$v},expression:\"currentTutorialStep\"}}),_c('section',{staticClass:\"vertical-split\"},[_c('section',{staticClass:\"menu\"},[_c('LocationControl',{attrs:{\"onLocation\":function (loc) { return this$1.currentLocation = loc; }}}),_c('Layers',{attrs:{\"layers\":_vm.layers},model:{value:(_vm.currentLayerPath),callback:function ($$v) {_vm.currentLayerPath=$$v},expression:\"currentLayerPath\"}}),_c('ZoomControl',{on:{\"zoomOut\":function () { return _vm.currentZoom -= 1; },\"zoomIn\":function () { return _vm.currentZoom += 1; }}}),_c('a',{staticClass:\"about-button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return (function () { return _vm.aboutVisible = true; })($event)}}},[_vm._v(_vm._s(_vm.$t('titles.credits')))])],1),_c('Map',{attrs:{\"layers\":_vm.layers,\"currentLayerPath\":_vm.currentLayerPath,\"currentLocation\":_vm.currentLocation,\"currentZoom\":_vm.currentZoom,\"isFuture\":_vm.isFuture},on:{\"toggleFuture\":function () { return _vm.isFuture ^= true; },\"newHistogram\":function (x, y) {this$1.currentHistogramX = x; this$1.currentHistogramY = y;},\"newSchools\":function (n) { return this$1.schoolCount = n; },\"newName\":function (n) { return this$1.interCommName = n; }}}),_c('Sidebar',{attrs:{\"layers\":_vm.layers,\"currentLayerPath\":_vm.currentLayerPath,\"currentHistogramX\":_vm.currentHistogramX,\"currentHistogramY\":_vm.currentHistogramY,\"schoolCount\":_vm.schoolCount,\"interCommName\":_vm.interCommName}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"intro\"},[_vm._m(0),_c('p',[_vm._v(\"Découvrez l'influence de la nature sur votre vie à Paris.\")]),_c('section',{staticClass:\"buttons\"},[(_vm.isLoading)?_c('a',{staticClass:\"button loading\"},[_vm._v(\"Chargement\")]):[_c('a',{staticClass:\"button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.startFrench($event)}}},[_c('i',{staticClass:\"flag-icon flag-icon-fr\"}),_vm._v(\" Commencer la visite\")]),_c('a',{staticClass:\"button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.startEnglish($event)}}},[_c('i',{staticClass:\"flag-icon flag-icon-us\"}),_vm._v(\" Get started\")])]],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_vm._v(\"\\n    EcoParis\\n    \"),_c('img',{attrs:{\"src\":\"assets/parrot.svg\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"intro\">\r\n    <h1>\r\n      EcoParis\r\n      <img src=\"assets/parrot.svg\">\r\n    </h1>\r\n\r\n    <p>Découvrez l'influence de la nature sur votre vie à Paris.</p>\r\n\r\n    <section class=\"buttons\">\r\n      <a v-if=\"isLoading\" class=\"button loading\">Chargement</a>\r\n      <template v-else>\r\n        <a @click.prevent=\"startFrench\" href=\"#\" class=\"button\"><i class=\"flag-icon flag-icon-fr\"></i> Commencer la visite</a>\r\n        <a @click.prevent=\"startEnglish\" href=\"#\" class=\"button\"><i class=\"flag-icon flag-icon-us\"></i> Get started</a>\r\n      </template>\r\n    </section>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['isLoading'],\r\n  methods: {\r\n    startFrench() {\r\n      this.$i18n.locale = 'fr'\r\n      this.$emit('dismiss')\r\n    },\r\n    startEnglish() {\r\n      this.$i18n.locale = 'en'\r\n      this.$emit('dismiss')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/** Flags from https://github.com/lipis/flag-icon-css. **/\r\n$flag-path: '../../public/assets';\r\n\r\n.flag-icon-background {\r\n  background-size: contain;\r\n  background-position: 50%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.flag-icon {\r\n  @extend .flag-icon-background;\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 1em;\r\n  margin-right: 0.4em;\r\n  line-height: 1em;\r\n  border-radius: 3px;\r\n  &:before {\r\n    content: '\\00a0';\r\n  }\r\n}\r\n\r\n@mixin flag-icon($country) {\r\n  .flag-icon-#{$country} {\r\n    background-image: url(#{$flag-path}/flag-#{$country}.svg);\r\n  }\r\n}\r\n\r\n@include flag-icon('fr');\r\n@include flag-icon('us');\r\n\r\n/** Introduction page. **/\r\n.intro {\r\n  z-index: 2000;\r\n  position: fixed;\r\n  display: flex;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  color: #fff;\r\n  background: linear-gradient(120deg, rgba(#84fab0, .98) 10%, rgba(#8fd3f4, .98) 100%);\r\n}\r\n\r\n.intro.fade-enter-active, .intro.fade-leave-active {\r\n  transition: opacity .3s;\r\n}\r\n\r\n.intro.fade-enter, .intro.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.intro h1, .intro p {\r\n  text-shadow: 0 0 2px rgba(0, 0, 0, .4);\r\n}\r\n\r\n.intro h1 {\r\n  font-family: 'Cedarville Cursive';\r\n  font-size: 38pt;\r\n  margin: 0 0 -.3rem;\r\n  position: relative;\r\n}\r\n\r\n.intro h1 img {\r\n  position: absolute;\r\n  width: 64px;\r\n  top: -8px;\r\n  right: -30px;\r\n}\r\n\r\n.intro p {\r\n  font-size: 21pt;\r\n  margin: 0;\r\n}\r\n\r\n.intro .buttons {\r\n  margin-top: 50px;\r\n}\r\n\r\n.intro .button {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.intro .button.loading {\r\n  cursor: not-allowed;\r\n\r\n  &:before {\r\n    content: '';\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    background: rgba(#fff, .2);\r\n    animation: loading 4s infinite ease-in-out;\r\n  }\r\n}\r\n\r\n@keyframes loading {\r\n  0% {\r\n    left: 0;\r\n    width: 0%;\r\n  }\r\n\r\n  50% {\r\n    left: 0;\r\n    width: 100%;\r\n  }\r\n\r\n  100% {\r\n    left: 100%;\r\n    width: 0%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Intro.vue?vue&type=template&id=99b3ffc6&\"\nimport script from \"./Intro.vue?vue&type=script&lang=js&\"\nexport * from \"./Intro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Intro.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Intro.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"tutorial\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.currentStepHtml)}}),_c('a',{staticClass:\"button dark\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close($event)}}},[_c('span',{staticClass:\"keycap\"},[_vm._v(\"ESC\")]),_vm._v(\" \"+_vm._s(_vm.$t('skip')))]),(_vm.value < 12)?_c('a',{staticClass:\"button dark full\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.next($event)}}},[_c('span',{staticClass:\"keycap\"},[_vm._v(\"→\")]),_vm._v(\" \"+_vm._s(_vm.$t('next')))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"tutorial\">\r\n    <p v-html=\"currentStepHtml\"></p>\r\n\r\n    <a href=\"#\" @click.prevent=\"close\" class=\"button dark\"><span class=\"keycap\">ESC</span> {{ $t('skip') }}</a>\r\n    <a v-if=\"value < 12\" href=\"#\" @click.prevent=\"next\" class=\"button dark full\"><span class=\"keycap\">&rarr;</span> {{ $t('next') }}</a>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * Handles key presses to ESC, ← and →.\r\n */\r\nfunction onKeyUp(e) {\r\n  if (e && (e.which || e.keyCode) == 37) {\r\n    this.prev()\r\n  } else if (e && (e.which || e.keyCode) == 39) {\r\n    this.next()\r\n  } else if (e && (e.which || e.keyCode) == 27) {\r\n    this.close()\r\n  }\r\n}\r\n\r\nexport default {\r\n  props: ['value', 'currentLayerPath'],\r\n\r\n  mounted() {\r\n    // We have to register an event listener on the body to catch all keys.\r\n    document.body.addEventListener('keyup', onKeyUp.bind(this))\r\n  },\r\n\r\n  beforeDestroy() {\r\n    // Don't forget to remove the event listener before destroying the component.\r\n    document.body.removeEventListener('keypress', onKeyUp.bind(this))\r\n  },\r\n\r\n  methods: {\r\n    prev() {\r\n      if (this.value > 1) {\r\n        this.$emit('input', this.value - 1)\r\n      }\r\n    },\r\n\r\n    next() {\r\n      if (this.value == 5) {\r\n        // On step 5, going to the next step is equivalent to changing the layer to \"Nappe\".\r\n        this.$emit('layerChange', 'data/rasters/L_ref.json')\r\n      } else if (this.value == 11) {\r\n        // On step 11, going to the next step is equivalent to changing the layer to \"Hotspots\".\r\n        this.$emit('layerChange', 'data/rasters/correlation_ref.json')\r\n      } else if (this.value == 12) {\r\n        // Step 12 is the last step.\r\n        this.close()\r\n      } else {\r\n        this.$emit('input', this.value + 1)\r\n      }\r\n    },\r\n\r\n    close() {\r\n      this.$emit('input', null)\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    currentStepHtml() {\r\n      return this.$t(`tutorial.${this.value || 12}`)\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    currentLayerPath(path) {\r\n      if (this.value == 5 && path == 'data/rasters/L_ref.json') {\r\n        // Go to step 6 if we were in step 5 and the \"Nappe\" layer was chosen.\r\n        this.$emit('input', 6)\r\n      } else if (this.value == 11 && path == 'data/rasters/correlation_ref.json') {\r\n        // Go to step 12 if we were in step 11 and the \"Hotspots\" layer was chosen.\r\n        this.$emit('input', 12)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#app:before {\r\n  content: '';\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 550;\r\n  background: rgba(#000, .4);\r\n}\r\n\r\n#app.tutorial-null:before {\r\n  display: none;\r\n}\r\n\r\n.keycap {\r\n  display: inline-block;\r\n  border: 1px solid #000;\r\n  padding: 2px 4px;\r\n  font-size: 0.8em;\r\n  line-height: 1em;\r\n  border-radius: 5px;\r\n  margin: 0 5px;\r\n}\r\n\r\n.tutorial {\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  z-index: 1500;\r\n  align-items: center;\r\n  background: #fff;\r\n  box-shadow: 0 2px 4px rgba(#000, .2);\r\n  height: 68px;\r\n  box-sizing: border-box;\r\n  padding: 0 20px;\r\n\r\n  transition: margin-top .5s, visibility 1s;\r\n\r\n  .tutorial-null & {\r\n    margin-top: -70px;\r\n    visibility: hidden;\r\n  }\r\n}\r\n\r\n.tutorial p {\r\n  font-family: 'IBM Plex Sans', sans-serif;\r\n  font-size: 0.85em;\r\n  flex-grow: 1;\r\n  text-align: center;\r\n  margin: 0;\r\n}\r\n\r\n.tutorial .button {\r\n  font-size: 0.85em;\r\n  margin: 0;\r\n  margin-left: 15px;\r\n  flex-shrink: 0;\r\n  text-align: center;\r\n\r\n  .keycap {\r\n    margin: 0 10px 0 0;\r\n  }\r\n\r\n  &:last-child .keycap {\r\n    position: relative;\r\n    border-color: #fff;\r\n    padding-top: 1px;\r\n    padding-bottom: 3px;\r\n    top: -2px;\r\n  }\r\n}\r\n\r\n@mixin cover($rt: -1px, $rl: -1px, $rr: -1px, $rb: -1px) {\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  top: $rt;\r\n  left: $rl;\r\n  right: $rr;\r\n  bottom: $rb;\r\n}\r\n\r\n/** Highlights for the different steps. */\r\n.tutorial-2 .map {\r\n  z-index: 1000;\r\n  position: relative;\r\n\r\n  &:before {\r\n    @include cover;\r\n    z-index: 10001;\r\n    box-shadow: inset 0 0 100px rgba(#000, .3);\r\n  }\r\n}\r\n\r\n.tutorial-3 .legend {\r\n  z-index: 1000;\r\n  box-shadow: 0 0 4px rgba(#000, .3);\r\n}\r\n\r\n.tutorial-4 .menu {\r\n  z-index: 1000;\r\n  \r\n  .zoom-control, .location-control, .layers {\r\n    box-shadow: 0 0 4px rgba(#000, .3);\r\n  }\r\n}\r\n\r\n.tutorial-5 .menu {\r\n  z-index: 1000;\r\n\r\n  .layers, .location-control, .zoom-control, .about-button {\r\n    position: relative;\r\n\r\n    &:before {\r\n      z-index: 1100;\r\n      @include cover;\r\n      background: rgba(#000, .4);\r\n    }\r\n  }\r\n\r\n  .layers [title=\"data/rasters/L_ref.json\"] {\r\n    z-index: 1500;\r\n    background: #fff;\r\n  }\r\n}\r\n\r\n.tutorial-6 .sidebar {\r\n  z-index: 1000;\r\n}\r\n\r\n.tutorial-7 .year {\r\n  z-index: 1000;\r\n  box-shadow: 0 0 4px rgba(#000, .3);\r\n}\r\n\r\n#app.tutorial-8:before {\r\n  display: none;\r\n}\r\n\r\n#app.tutorial-9:before {\r\n  display: none;\r\n}\r\n\r\n#app.tutorial-10:before {\r\n  display: none;\r\n}\r\n\r\n.tutorial-11 .menu {\r\n  z-index: 1000;\r\n\r\n  .layers, .location-control, .zoom-control, .about-button {\r\n    position: relative;\r\n\r\n    &:before {\r\n      z-index: 1100;\r\n      @include cover;\r\n      background: rgba(#000, .4);\r\n    }\r\n  }\r\n\r\n  .layers [title=\"data/rasters/correlation_ref.json\"] {\r\n    z-index: 1500;\r\n    background: #fff;\r\n  }\r\n}\r\n\r\n#app.tutorial-12:before {\r\n  display: none;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tutorial.vue?vue&type=template&id=cad1f21e&\"\nimport script from \"./Tutorial.vue?vue&type=script&lang=js&\"\nexport * from \"./Tutorial.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tutorial.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Tutorial.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about-wrapper\"},[_c('a',{staticClass:\"about-close\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.$emit('dismiss')}}},[_vm._v(\"X\")]),_c('section',{staticClass:\"about-box\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('credits.title')))]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('credits.what'))}}),_c('ul',[_c('li',[_vm._v(_vm._s(_vm.$t('credits.alex')))]),_c('li',[_vm._v(_vm._s(_vm.$t('credits.karthi')))]),_c('li',[_vm._v(_vm._s(_vm.$t('credits.romain')))])]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('credits.collaborators'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('credits.credits-1'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('credits.credits-2'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('credits.thanks'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('credits.logo'))}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"about-wrapper\">\r\n        <a href=\"#\" class=\"about-close\" @click.prevent=\"$emit('dismiss')\">X</a>\r\n        \r\n        <section class=\"about-box\">\r\n            <h2>{{ $t('credits.title') }}</h2>\r\n            <p v-html=\"$t('credits.what')\"></p>\r\n            <ul>\r\n                <li>{{ $t('credits.alex') }}</li>\r\n                <li>{{ $t('credits.karthi') }}</li>\r\n                <li>{{ $t('credits.romain') }}</li>\r\n            </ul>\r\n            <p v-html=\"$t('credits.collaborators')\"></p>\r\n            <p v-html=\"$t('credits.credits-1')\"></p>\r\n            <p v-html=\"$t('credits.credits-2')\"></p>\r\n            <p v-html=\"$t('credits.thanks')\"></p>\r\n            <p v-html=\"$t('credits.logo')\"></p>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.about-wrapper {\r\n    width: 45%;\r\n    height: 60%;\r\n    position: fixed;\r\n    top: 20%;\r\n    left: 18%;\r\n    z-index: 500;\r\n}\r\n\r\n.about-box {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0 0 4px rgba(0, 0, 0, .2);\r\n    background: #fff;\r\n    padding: 40px;\r\n    box-sizing: border-box;\r\n    overflow: auto;\r\n\r\n    h2 {\r\n        margin-top: 0;\r\n    }\r\n\r\n    li {\r\n        font-size: .9em;\r\n    }\r\n\r\n    &:after {\r\n        content: \"\";\r\n        display: block;\r\n        height: 40px;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.about-close {\r\n    height: 40px;\r\n    width: 40px;\r\n    box-shadow: -2px 0 2px rgba(#000, .2);\r\n    background: #fff;\r\n    outline: none;\r\n    font-size: 14pt;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    color: #000;\r\n    position: absolute;\r\n    left: -40px;\r\n    top: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=5a3679a6&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"About.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"zoom-control\"},[_c('a',{staticClass:\"minus\",on:{\"click\":function($event){$event.preventDefault();_vm.$emit('zoomOut')}}},[_vm._v(\"-\")]),_c('a',{staticClass:\"plus\",on:{\"click\":function($event){$event.preventDefault();_vm.$emit('zoomIn')}}},[_vm._v(\"+\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"zoom-control\">\r\n    <a class=\"minus\" @click.prevent=\"$emit('zoomOut')\">-</a>\r\n    <a class=\"plus\" @click.prevent=\"$emit('zoomIn')\">+</a>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {}\r\n</script>\r\n\r\n<style lang=\"scss\" type=\"text/scss\">\r\n.zoom-control {\r\n  width: 80px;\r\n\r\n  a {\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoomControl.vue?vue&type=template&id=1fc96b4c&\"\nimport script from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ZoomControl.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ZoomControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"location-control\"},[_c('a',{staticClass:\"locate\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.locate($event)}}},[_c('i',{staticClass:\"fas fa-map-marker-alt\"})]),_c('div',{class:{search: true, active: _vm.searchExpanded}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSearch($event)}}},[(_vm.searchExpanded)?_c('i',{staticClass:\"fas fa-search-minus\"}):_c('i',{staticClass:\"fas fa-search-location\"})]),_c('input',{ref:\"searchInput\",staticClass:\"autocomplete\",attrs:{\"type\":\"text\"},on:{\"keyup\":function($event){if(!('button' in $event)&&$event.keyCode!==27){ return null; }_vm.searchExpanded = false}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"location-control\">\r\n    <a href=\"#\" class=\"locate\"\r\n        @click.prevent=\"locate\">\r\n      <i class=\"fas fa-map-marker-alt\"></i>\r\n    </a>\r\n    <div :class=\"{search: true, active: searchExpanded}\">\r\n      <a href=\"#\" @click.prevent=\"toggleSearch\">\r\n        <i v-if=\"searchExpanded\" class=\"fas fa-search-minus\"></i>\r\n        <i v-else class=\"fas fa-search-location\"></i>\r\n      </a>\r\n      <input type=\"text\" class=\"autocomplete\" ref=\"searchInput\"\r\n        @keyup.27=\"searchExpanded = false\">\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport Config from '../config.json'\r\n\r\nexport default {\r\n  props: ['onLocation'],\r\n\r\n  data: () => ({\r\n    searchExpanded: false\r\n  }),\r\n\r\n  mounted() {\r\n    const api = new google.maps.places.Autocomplete(this.$refs.searchInput)\r\n    api.setFields(['geometry'])\r\n    api.setOptions({strictBounds: true})\r\n    api.setBounds({\r\n      north: Config.viewport.topLatitude,\r\n      south: Config.viewport.bottomLatitude,\r\n      west: Config.viewport.leftLongitude,\r\n      east: Config.viewport.rightLongitude,\r\n    })\r\n\r\n    api.addListener('place_changed', () => {\r\n      const place = api.getPlace()\r\n\r\n      if (!place.geometry) {\r\n        this.onLocation(null, null)\r\n        return\r\n      }\r\n\r\n      this.searchExpanded = false\r\n      this.onLocation([\r\n        place.geometry.location.lat(),\r\n        place.geometry.location.lng()\r\n      ])\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    locate() {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(pos => {\r\n          if (pos){\r\n            this.onLocation([pos.coords.latitude, pos.coords.longitude])\r\n          }\r\n        })\r\n      }\r\n    },\r\n\r\n    toggleSearch() {\r\n      this.searchExpanded ^= true\r\n      this.$refs.searchInput.focus()\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" type=\"text/scss\">\r\n.location-control a i {\r\n  color: #111;\r\n  font-size: 18px;\r\n}\r\n\r\n.location-control .search {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  a {\r\n    border: 0 !important;\r\n  }\r\n\r\n  .autocomplete {\r\n    transition: width .25s;\r\n    height: 30px;\r\n    width: 0;\r\n    padding: 0;\r\n    border: 0 none;\r\n  }\r\n}\r\n\r\n.location-control .search.active .autocomplete {\r\n  width: 300px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocationControl.vue?vue&type=template&id=4e4c0aaa&\"\nimport script from \"./LocationControl.vue?vue&type=script&lang=js&\"\nexport * from \"./LocationControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocationControl.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"LocationControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"layers\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('titles.layers')))]),_c('div',{staticClass:\"buttons\"},_vm._l((_vm.layers),function(layer,path){return (!layer.hidden)?_c('a',{key:path,class:{ active: _vm.value == layer.path },style:({'background': _vm.value == layer.path ? layer.active_color : layer.color}),attrs:{\"title\":path},on:{\"click\":function($event){$event.preventDefault();_vm.select(layer)}}},[_c('span',{staticClass:\"icon\",domProps:{\"innerHTML\":_vm._s(_vm.$t((\"layers.\" + (layer.id) + \".icon\")))}}),_c('span',[_vm._v(_vm._s(_vm.$t((\"layers.\" + (layer.id) + \".name\"))))]),(!layer.loaded)?_c('div',{staticClass:\"loader-tile-grid\"},[_c('div',{staticClass:\"loader-tile loader-tile1\"}),_c('div',{staticClass:\"loader-tile loader-tile2\"}),_c('div',{staticClass:\"loader-tile loader-tile3\"}),_c('div',{staticClass:\"loader-tile loader-tile4\"}),_c('div',{staticClass:\"loader-tile loader-tile5\"}),_c('div',{staticClass:\"loader-tile loader-tile6\"}),_c('div',{staticClass:\"loader-tile loader-tile7\"}),_c('div',{staticClass:\"loader-tile loader-tile8\"}),_c('div',{staticClass:\"loader-tile loader-tile9\"})]):_vm._e()]):_vm._e()}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"layers\">\r\n    <h3>{{ $t('titles.layers') }}</h3>\r\n\r\n    <div class=\"buttons\">\r\n      <a v-for=\"(layer, path) in layers\"\r\n        v-if=\"!layer.hidden\"\r\n        :style=\"{'background': value == layer.path ? layer.active_color : layer.color}\"\r\n        :key=\"path\"\r\n        :title=\"path\"\r\n        :class=\"{ active: value == layer.path }\"\r\n\r\n        @click.prevent=\"select(layer)\">\r\n        <span class=\"icon\" v-html=\"$t(`layers.${layer.id}.icon`)\"></span>\r\n        <span>{{ $t(`layers.${layer.id}.name`) }}</span>\r\n\r\n        <div v-if=\"!layer.loaded\" class=\"loader-tile-grid\">\r\n          <div class=\"loader-tile loader-tile1\"></div>\r\n          <div class=\"loader-tile loader-tile2\"></div>\r\n          <div class=\"loader-tile loader-tile3\"></div>\r\n          <div class=\"loader-tile loader-tile4\"></div>\r\n          <div class=\"loader-tile loader-tile5\"></div>\r\n          <div class=\"loader-tile loader-tile6\"></div>\r\n          <div class=\"loader-tile loader-tile7\"></div>\r\n          <div class=\"loader-tile loader-tile8\"></div>\r\n          <div class=\"loader-tile loader-tile9\"></div>\r\n        </div>\r\n      </a>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['layers', 'value'],\r\n\r\n  methods: {\r\n    select(layer) {\r\n      if (!layer.loading) {\r\n        this.$emit('input', layer.path)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" type=\"text/scss\">\r\n.layers {\r\n  max-height: 600px;\r\n  height: 80%;\r\n  width: 80px;\r\n  border: 1px solid #bbb;\r\n  box-shadow: 0 0 3px rgba(#000, .1);\r\n  background: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.layers .buttons {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.layers h3, .layers a {\r\n  text-transform: uppercase;\r\n}\r\n\r\n.layers h3 {\r\n  width: 100%;\r\n  margin: 0;\r\n  padding: 7px 0;\r\n}\r\n\r\n.layers a {\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  outline: none;\r\n  cursor: pointer;\r\n\r\n  height: 80px;\r\n  text-decoration: none;\r\n  border-bottom: 1px solid #bbb;\r\n  color: #333;\r\n  font-size: 10pt;\r\n\r\n  &.active {\r\n    background: #f3f3f3;\r\n    box-shadow: inset 0 0 2px rgba(0, 0, 0, .1);\r\n  }\r\n\r\n  &:first-child {\r\n    border-top: 1px solid #bbb;\r\n  }\r\n\r\n  .icon {\r\n    font-size: 1rem;\r\n    margin-bottom: 3px;\r\n  }\r\n}\r\n\r\n// Source: http://tobiasahlin.com/spinkit/\r\n.loader-tile-grid {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.loader-tile-grid .loader-tile {\r\n  width: 33%;\r\n  height: 33%;\r\n  background-color: #0002;\r\n  float: left;\r\n\r\n  animation: loader-tileGridScaleDelay 1.3s infinite ease-in-out;\r\n}\r\n\r\n.loader-tile-grid .loader-tile1 { animation-delay: 0.2s; }\r\n.loader-tile-grid .loader-tile2 { animation-delay: 0.3s; }\r\n.loader-tile-grid .loader-tile3 { animation-delay: 0.4s; }\r\n.loader-tile-grid .loader-tile4 { animation-delay: 0.1s; }\r\n.loader-tile-grid .loader-tile5 { animation-delay: 0.2s; }\r\n.loader-tile-grid .loader-tile6 { animation-delay: 0.3s; }\r\n.loader-tile-grid .loader-tile7 { animation-delay: 0s; }\r\n.loader-tile-grid .loader-tile8 { animation-delay: 0.1s; }\r\n.loader-tile-grid .loader-tile9 { animation-delay: 0.2s; }\r\n\r\n@keyframes loader-tileGridScaleDelay {\r\n  0%, 70%, 100% {\r\n    transform: scale3D(1, 1, 1);\r\n  } 35% {\r\n    transform: scale3D(0, 0, 1);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layers.vue?vue&type=template&id=0ddeb0e1&\"\nimport script from \"./Layers.vue?vue&type=script&lang=js&\"\nexport * from \"./Layers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Layers.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-container\"},[_c('section',{ref:\"map\",staticClass:\"map\"}),_c('svg',{ref:\"circle_svg\",staticClass:\"EV-circle-svg\"}),_c('svg',{ref:\"svg\",staticClass:\"EV-svg\"}),(_vm.hasFutureAvailable && !_vm.isFuture)?_c('section',{staticClass:\"year\"},[_c('p',[_vm._v(\"2012\")]),_c('a',{style:({'color': _vm.futureColor}),attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return (function () { return _vm.$emit('toggleFuture'); })($event)}}},[_c('i',{staticClass:\"fas fa-fast-forward\"})])]):(_vm.hasFutureAvailable)?_c('section',{staticClass:\"year\"},[_c('p',[_vm._v(\"2030\")]),_c('a',{style:({'color': _vm.presentColor}),attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return (function () { return _vm.$emit('toggleFuture'); })($event)}}},[_c('i',{staticClass:\"fas fa-fast-backward\"})])]):_vm._e(),_c('section',{staticClass:\"legend\"},[_c('div',{ref:\"legend\",staticClass:\"legend-inner\"}),(_vm.isEspacesVerts)?_c('section',[_c('h3',[_vm._v(_vm._s(_vm.$t('legend.natural-spaces')))]),_c('figure',[_c('div',{staticClass:\"item\",style:({backgroundColor: _vm.forestColor})}),_c('figcaption',{domProps:{\"innerHTML\":_vm._s(_vm.$t('legend.wood'))}})]),_c('figure',[_c('div',{staticClass:\"item\",style:({backgroundColor: _vm.waterColor})}),_c('figcaption',{domProps:{\"innerHTML\":_vm._s(_vm.$t('legend.water'))}})]),_c('figure',[_c('div',{staticClass:\"item\",style:({backgroundColor: _vm.greenColor})}),_c('figcaption',{domProps:{\"innerHTML\":_vm._s(_vm.$t('legend.leisure'))}})])]):(_vm.currentUnit)?_c('section',[_c('p',[_vm._v(\"(\"+_vm._s(_vm.currentUnit)+\")\")])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//this file contains a set of variables. Those variables should be treated as global variables, and can be used anywhere\r\n//used because otherwise, we would have either a 800 lines file, or 15 parameters functions...\r\n\r\nvar cachedLayers = {} //placehoder for the layers, to compute them only once\r\n\r\nvar currentLayerPath = \"\" //path of the currently selected layer\r\n\r\nvar map = null //reference to the leaflet map\r\n\r\nvar mapElement = null\r\n\r\nvar currentGeoLat = null //current latitude of the cursor\r\n\r\nvar currentGeoLng = null //current longitude of the cursos\r\n\r\nvar svg_EV = null //reference to the svg of the \"espaces verts\"\r\n\r\nvar svg_circle_EV = null //reference to the svg of the circle around the cursot\r\n\r\nvar interComms = null //reference to the interComms element, i.e. a d3.selectAll(\"path\")\r\n\r\nvar voronoi = null //reference to the voronoi element, i.e. a d3.selectAll(\"path\")\r\n\r\nvar imgs = null //reference to the current layer image, i.e. a d3.selectAll(\"image\")\r\n\r\nvar imgs_EV = null //reference to the \"espaces verts\" image, i.e. a d3.selectAll(\"image\")\r\n\r\nvar update_parameters = {} //parameters used by the update function, such as tl/br coordinates, or a \"hide\" boolean\r\n\r\nvar markerElement = null //reference to marker element, i.e. a d3.selectAll(\"image\")\r\n\r\nvar canvas = null //reference to the canvas used to generate layers\r\n\r\nvar voronoi_shape = null //shapes of the voronois, content of the geojson\r\n\r\nvar interComm_shape = null //shapes of the interComms, content of the geojson\r\n\r\nvar firstVoronoiByInterComm = [] //array containing infos about the id of the first voronoi inside a given interComm, since voronoi ids are consecutive (e.g. ids 0-7 are inside interComm 0)\r\n\r\nvar pathGenerator = null //pathGenerator, used to project paths (latLng) on the map\r\n\r\nvar defs_path = null //reference to the d3.selectAll(\"path\") used to crop the layer to the current voronoi area\r\n\r\nvar legend_element = null //element (div) that will contain the layer legend\r\n\r\nvar color_legend_canvas = null //element (canvas) that will contain the layer legend (the colors)\r\n\r\nvar color_legend_svg = null //element (div) that will contain the layer legend (the labels)\r\n\r\nvar onSchools = null //onSchools callback function, called when the number of schools changes (e.g. we hovered another area)\r\n\r\nvar onHistChange = null //onHistChange callback function, called when the histogram must be changed (e.g. we hovered another area)\r\n\r\nvar onNewName = null //onNewName callback function, called when the current intercomm name has changed\r\n\r\nvar highlightedInterComm = -1 //id of the currently highlighted interComm\r\n\r\nvar initialBounds = null //initial bounds of the map (set to paris)\r\n\r\nvar markerIcon = {} //informations about the marker icon\r\n\r\nvar lastMouseDownX = 0 //coordinates of the last mouse Down event\r\n\r\nvar lastMouseDownY = 0 //coordinates of the last mouse Down event\r\n\r\nvar voronoiContainment = null //precomputed containment tests for the voronois\r\n\r\nvar interCommContainment = null //precomputed containment tests for the interComms\r\n\r\nvar showCirclePreview = true //do we show the circle preview, or do we hide it?\r\n\r\nvar showFutureInsteadOfEV = false //do we show the future preview in the circle instead of the EV?\r\n\r\nvar lastMousePosition = {x:0,y:0} //last known position of the mouse\r\n\r\nvar isFuture = false\r\n\r\nvar currentCircleLayerPath = \"\"\r\n\r\nvar currentChartIndex = -1\r\n\r\nvar currentChartIndexIsVoronoi = false\r\n\r\nexport default {cachedLayers,\r\n\t\t\t\tcurrentLayerPath,\r\n\t\t\t\tmap,\r\n\t\t\t\tmapElement,\r\n\t\t\t\tcurrentGeoLat,\r\n\t\t\t\tcurrentGeoLng,\r\n\t\t\t\tsvg_EV,\r\n\t\t\t\tsvg_circle_EV,\r\n\t\t\t\tinterComms,\r\n\t\t\t\tvoronoi,\r\n\t\t\t\timgs,\r\n\t\t\t\timgs_EV,\r\n\t\t\t\tupdate_parameters,\r\n\t\t\t\tmarkerElement,\r\n\t\t\t\tcanvas,\r\n\t\t\t\tvoronoi_shape,\r\n\t\t\t\tinterComm_shape,\r\n\t\t\t\tfirstVoronoiByInterComm,\r\n\t\t\t\tpathGenerator,\r\n\t\t\t\tdefs_path,\r\n\t\t\t\tlegend_element,\r\n\t\t\t\tcolor_legend_canvas,\r\n\t\t\t\tcolor_legend_svg,\r\n\t\t\t\tonSchools,\r\n\t\t\t\tonHistChange,\r\n\t\t\t\tonNewName,\r\n\t\t\t\thighlightedInterComm,\r\n\t\t\t\tinitialBounds,\r\n\t\t\t\tmarkerIcon,\r\n\t\t\t\tlastMouseDownX,\r\n\t\t\t\tlastMouseDownY,\r\n\t\t\t\tvoronoiContainment,\r\n\t\t\t\tinterCommContainment,\r\n\t\t\t\tshowCirclePreview,\r\n\t\t\t\tshowFutureInsteadOfEV,\r\n\t\t\t\tlastMousePosition,\r\n\t\t\t\tisFuture,\r\n\t\t\t\tcurrentLayerPath,\r\n\t\t\t\tcurrentChartIndex,\r\n\t\t\t\tcurrentChartIndexIsVoronoi}","var Config = require('./config.json')\r\nimport helpers_f from './helpers.js'\r\nimport shared from './shared.js'\r\n\r\nfunction update_clip() {\r\n  var map = shared.map\r\n  var cachedLayers = shared.cachedLayers\r\n  var currentLayerPath = shared.currentLayerPath\r\n  var defs_path = shared.defs_path\r\n  function clip_projectPoint(x, y) {\r\n\r\n    if (!cachedLayers[currentLayerPath]){\r\n      return\r\n    }\r\n    var default_tl_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].tl_lat, cachedLayers[currentLayerPath].tl_lng])\r\n    var default_br_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].br_lat, cachedLayers[currentLayerPath].br_lng])\r\n\r\n    var width = (default_br_point.x - default_tl_point.x)\r\n    var height = (default_br_point.y - default_tl_point.y)\r\n\r\n    var point = map.latLngToLayerPoint(L.latLng(y, x))\r\n\r\n    var tx = (point.x - default_tl_point.x) / (default_br_point.x - default_tl_point.x) * (width - 1)\r\n    var ty = (point.y - default_tl_point.y) / (default_br_point.y - default_tl_point.y) * (height - 1)\r\n\r\n    this.stream.point(tx, ty);\r\n  }\r\n\r\n  var clip_transform = d3.geo.transform({\r\n    point: clip_projectPoint\r\n  });\r\n  var clip_path = d3.geo.path()\r\n    .projection(clip_transform);\r\n  defs_path.attr(\"d\", clip_path)\r\n}\r\n\r\nfunction update_EV_preview(mouseX,mouseY){\r\n  updateCirclePreviewPath()\r\n  var svg_EV = shared.svg_EV\r\n  var svg_circle_EV = shared.svg_circle_EV\r\n  var map = shared.map\r\n  var cachedLayers = shared.cachedLayers\r\n  var imgs_EV = shared.imgs_EV\r\n\r\n  var layer_path = shared.currentCircleLayerPath\r\n  if (!cachedLayers[layer_path] || !shared.showCirclePreview){\r\n    shared.svg_EV.style(\"display\",\"none\")\r\n    shared.svg_circle_EV.style(\"display\",\"none\")\r\n    return\r\n  }\r\n\r\n  var svg_width = parseInt(svg_EV.style(\"width\").substr(0,svg_EV.style(\"width\").length-2))\r\n  var svg_height = parseInt(svg_EV.style(\"height\").substr(0,svg_EV.style(\"width\").length-2))\r\n  var svg_circle_width = parseInt(svg_circle_EV.style(\"width\").substr(0,svg_circle_EV.style(\"width\").length-2))\r\n  var svg_circle_height = parseInt(svg_circle_EV.style(\"height\").substr(0,svg_circle_EV.style(\"width\").length-2))\r\n\r\n  svg_EV.style(\"top\",(mouseY - svg_height - 15)+\"px\")\r\n  svg_EV.style(\"left\",(mouseX + 15)+\"px\")\r\n  svg_EV.style(\"display\",\"\")\r\n\r\n  svg_circle_EV.style(\"top\",(mouseY - svg_circle_height/2)+\"px\")\r\n  svg_circle_EV.style(\"left\",(mouseX - svg_circle_width/2)+\"px\")\r\n  svg_circle_EV.style(\"display\",\"\")\r\n\r\n  var magnifyingRatio = svg_width/svg_circle_width\r\n\r\n  var tl = L.latLng(cachedLayers[layer_path].tl_lat,cachedLayers[layer_path].tl_lng)\r\n  var br = L.latLng(cachedLayers[layer_path].br_lat,cachedLayers[layer_path].br_lng)\r\n\r\n  var tl_pixels = map.latLngToContainerPoint(tl)\r\n  var br_pixels = map.latLngToContainerPoint(br)\r\n\r\n  var pixels_on_left = mouseX - tl_pixels.x\r\n  var pixels_on_top = mouseY - tl_pixels.y\r\n\r\n  var magnified_tl_pixels = L.point(mouseX - pixels_on_left * magnifyingRatio,\r\n                                    mouseY - pixels_on_top * magnifyingRatio)\r\n\r\n  var image_width = (map.latLngToLayerPoint(br).x - map.latLngToLayerPoint(tl).x) * magnifyingRatio\r\n  var image_height = (map.latLngToLayerPoint(br).y - map.latLngToLayerPoint(tl).y) * magnifyingRatio\r\n\r\n  imgs_EV.attr('width', image_width)\r\n  imgs_EV.attr('height', image_height)\r\n\r\n  imgs_EV.attr(\"transform\",\r\n    \"translate(\" +\r\n      (+ magnified_tl_pixels.x - mouseX + svg_width/2) + \",\" +\r\n      (+ magnified_tl_pixels.y - mouseY + svg_height/2) + \")\"\r\n  )\r\n}\r\n\r\nfunction update_chart(layerURL) {\r\n  var i = shared.currentChartIndex\r\n  var voro = shared.currentChartIndexIsVoronoi\r\n  var cachedLayers = shared.cachedLayers\r\n  var info = cachedLayers[layerURL]\r\n\r\n  if (shared.isFuture && Config.layers[layerURL].future){\r\n    info = cachedLayers[Config.layers[layerURL].future]\r\n  }\r\n  if (!info) {\r\n    return;\r\n  }\r\n  var data=[]\r\n  if (i < 0){ //none selected, show data about entire Paris region\r\n    data = info.entire_hist\r\n  }\r\n  else if (voro == true) {\r\n    data = info.voronoi_hist[i]\r\n  } else {\r\n    data = info.interComm_hist[i]\r\n  }\r\n\r\n  //TODO: don't exclude Urban cooling, but right now the layer has only three different values so it looks way better with 0 values\r\n  if (layerURL != Config.Urban_cooling){\r\n    data[0]=0 // ignore 0 values\r\n  }\r\n  \r\n  shared.onHistChange(helpers_f.range(256),data)\r\n\r\n}\r\n\r\nfunction update_text_school(layerURL){\r\n  var i = shared.currentChartIndex\r\n  var voro = shared.currentChartIndexIsVoronoi\r\n  var cachedLayers = shared.cachedLayers\r\n  if(layerURL == Config.Urban_cooling){\r\n    var info = cachedLayers[Config.Ecole_path]\r\n    if (!info) {\r\n        return;\r\n    }\r\n    var data=[]\r\n    if (i < 0){\r\n      data = info.entire_hist.slice(-1).pop()\r\n    }\r\n    else if (voro == true) {\r\n      data = info.voronoi_hist[i].slice(-1).pop()\r\n    } else {\r\n      data = info.interComm_hist[i].slice(-1).pop()\r\n    }\r\n    shared.onSchools(data)\r\n  }\r\n  else{\r\n    shared.onSchools(null)\r\n  }\r\n}\r\n\r\n/**\r\n * Updates the marker element on the map with the right coordinates.\r\n */\r\nfunction updateMarker() {\r\n  var map = shared.map\r\n  var currentGeoLat = shared.currentGeoLat\r\n  var currentGeoLng = shared.currentGeoLng\r\n  var markerElement = shared.markerElement\r\n  if (currentGeoLat && currentGeoLng) {\r\n    const point = map.latLngToLayerPoint([currentGeoLat, currentGeoLng])\r\n    const x = point.x - shared.markerIcon.iconAnchor[0]\r\n    const y = point.y - shared.markerIcon.iconAnchor[1]\r\n    markerElement.attr('visibility', 'visible')\r\n    markerElement.attr('transform', `translate(${x}, ${y})`)\r\n  } else {\r\n    markerElement.attr('visibility', 'hidden')\r\n  }\r\n}\r\n\r\nfunction updateMap() {//add here everything that could potentially change\r\n  var map = shared.map\r\n  var cachedLayers = shared.cachedLayers\r\n  var voronoi = shared.voronoi\r\n  var interComms = shared.interComms\r\n  var imgs = shared.imgs\r\n  var imgs_EV = shared.imgs_EV\r\n  var update_parameters = shared.update_parameters\r\n  var path = shared.pathGenerator\r\n\r\n  if (update_parameters.hide) {\r\n    console.log('hidden!')\r\n    interComms.attr('visibility', 'hidden')\r\n    voronoi.attr('visibility', 'hidden')\r\n    imgs.attr('visibility', 'hidden')\r\n    imgs_EV.attr('visibility', 'hidden')\r\n    return;\r\n  } else {\r\n    interComms.attr('visibility', 'visible')\r\n    voronoi.attr('visibility', 'visible')\r\n    imgs.attr('visibility', 'visible')\r\n    imgs_EV.attr('visibility', 'visible')\r\n  }\r\n\r\n  var tl = update_parameters.tl\r\n  var br = update_parameters.br\r\n\r\n  console.log('UPDATING')\r\n  var width = (map.latLngToLayerPoint(br).x - map.latLngToLayerPoint(tl).x)\r\n  var height = (map.latLngToLayerPoint(br).y - map.latLngToLayerPoint(tl).y)\r\n  imgs.attr(\"transform\",\r\n    function(d) {\r\n      var point = map.latLngToLayerPoint(tl)\r\n      return \"translate(\" +\r\n        point.x + \",\" +\r\n        point.y + \")\";\r\n    }\r\n  )\r\n\r\n  imgs.attr('width', width)\r\n  imgs.attr('height', height)\r\n  interComms.attr(\"d\", path)\r\n  voronoi.attr(\"d\", path)\r\n  update_clip()\r\n  updateMarker()\r\n  shared.svg_EV.style(\"display\",\"none\")\r\n  shared.svg_circle_EV.style(\"display\",\"none\")\r\n}\r\n\r\nfunction updateCirclePreviewPath(){\r\n  if (shared.showFutureInsteadOfEV && Config.layers[shared.currentLayerPath].future){ //if show future/present\r\n    if (shared.isFuture){ //if show present\r\n      shared.currentCircleLayerPath = shared.currentLayerPath\r\n      shared.svg_circle_EV.style(\"border-color\",Config.color_present)\r\n      shared.svg_EV.style(\"border-color\",Config.color_present)\r\n    }\r\n    else{ //if show future\r\n      shared.currentCircleLayerPath = Config.layers[shared.currentLayerPath].future\r\n      shared.svg_circle_EV.style(\"border-color\",Config.color_future)\r\n      shared.svg_EV.style(\"border-color\",Config.color_future)\r\n    }\r\n  }\r\n  else{ //if show EV\r\n    shared.currentCircleLayerPath = Config.EV_path\r\n    shared.svg_circle_EV.style(\"border-color\",Config.color_ev)\r\n    shared.svg_EV.style(\"border-color\",Config.color_ev)\r\n  }\r\n}\r\n\r\nfunction updateCirclePreviewLayer(){\r\n  updateCirclePreviewPath()\r\n  var layer_path = shared.currentCircleLayerPath\r\n  if (!shared.cachedLayers[layer_path] || !shared.showCirclePreview){\r\n    return\r\n  }\r\n  shared.imgs_EV.attr(\"xlink:href\", shared.cachedLayers[layer_path].url)\r\n}\r\n\r\nexport default{update_clip,update_EV_preview,update_chart,update_text_school,updateMarker,updateMap,updateCirclePreviewPath,updateCirclePreviewLayer}","const colorSchemeDict = {\r\n  0:d3.interpolateOranges,\r\n  1:d3.interpolateRdBu,\r\n  2:d3.interpolateBlues,\r\n  3:d3.interpolateGnBu,\r\n  4:d3.interpolateRdYlGn,\r\n}\r\n\r\nimport shared from './shared.js'\r\nimport update_f from './update.js'\r\nvar Config = require('./config.json')\r\n\r\n/**\r\n * Loads a JSON containment file and parses it.\r\n */\r\nfunction loadContainmentFile (url) {\r\n  return fetch(url)\r\n    .then(res => res.json())\r\n    .then(json => {\r\n      json.data = JSON.parse(json.data)\r\n      return json\r\n    })\r\n}\r\n\r\nconst MAP_TILES = 'https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png'\r\nconst MAP_ATTRIB = '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n/**\r\n * Creates a Leaflet map of the Paris area and returns it.\r\n */\r\nfunction createMap (element) {\r\n  shared.map = L.map(element, {\r\n    zoomControl: false\r\n  })\r\n  var map = shared.map\r\n  map.fitBounds(shared.initialBounds)\r\n  map.setMaxBounds(map.getBounds().pad(0.025))\r\n\r\n  const base = L.tileLayer(MAP_TILES, {\r\n    minZoom: 9,\r\n    maxZoom: 14, // Toner Light won't zoom further than 14.\r\n    attribution: MAP_ATTRIB\r\n  })\r\n\r\n  base.addTo(map)\r\n}\r\n\r\n/**\r\n * Returns whether a given point is within the Paris region.\r\n */\r\nfunction isWithinParis(point) {\r\n  return shared.interComm_shape.features.some(s => d3.geoContains(s, point))\r\n}\r\n\r\n/**\r\n * Sets the position of the geolocation marker.\r\n */\r\nfunction setLocation (lat, lng) {\r\n  if (!lat || !lng || !isWithinParis([lng, lat])) {\r\n    lat = null\r\n    lng = null\r\n    shared.map.fitBounds(shared.initialBounds)\r\n  } else {\r\n    //console.log(lat,lng)\r\n    shared.map.setView(new L.LatLng(lat, lng),11)\r\n    //shared.map.setZoom(11)\r\n  }\r\n\r\n  shared.currentGeoLat = lat\r\n  shared.currentGeoLng = lng\r\n  update_f.updateMarker()\r\n}\r\n\r\n\r\nfunction getColorsFromScheme (colorSchemeId){\r\n  var currentScheme = colorSchemeDict[colorSchemeId]\r\n  var range = []\r\n  for (var i=0; i<256; ++i){\r\n    range.push(currentScheme(i/255))\r\n  }\r\n  \r\n  return range\r\n}\r\n\r\n\r\n// create continuous color legend\r\nfunction fillScale (scale_canvas, scale_svg, colorScale, minValue, maxValue, invertColorScheme) {\r\n  const legendHeight = 200\r\n  const legendWidth = 70\r\n  const margin = {top: 5, right: 30, bottom: 5, left: 0}\r\n\r\n  var canvas = scale_canvas\r\n    .attr(\"height\", legendHeight - margin.top - margin.bottom)\r\n    .attr(\"width\", 1)\r\n    .style(\"height\", (legendHeight - margin.top - margin.bottom) + \"px\")\r\n    .style(\"width\", (legendWidth - margin.left - margin.right) + \"px\")\r\n    .style(\"position\", \"absolute\")\r\n    .style(\"top\", (margin.top) + \"px\")\r\n    .style(\"left\", (margin.left) + \"px\")\r\n    .node();\r\n\r\n  var ctx = canvas.getContext(\"2d\");\r\n\r\n  var legendScale = height =>\r\n    colorScale(((legendHeight - margin.top - margin.bottom) - height)/ (legendHeight - margin.top - margin.bottom) * 255)\r\n\r\n  var image = ctx.createImageData(1, (legendHeight - margin.top - margin.bottom));\r\n\r\n  for (var i=0; i<legendHeight - margin.top - margin.bottom; ++i){\r\n    var c = d3.rgb(legendScale(i));\r\n    var pos = i*4;\r\n\r\n    if (invertColorScheme){\r\n      pos = (legendHeight - margin.top - margin.bottom - 1)*4 - i*4\r\n    }\r\n    image.data[pos] = c.r;\r\n    image.data[pos + 1] = c.g;\r\n    image.data[pos + 2] = c.b;\r\n    image.data[pos + 3] = 255;\r\n  }\r\n  \r\n  ctx.putImageData(image, 0, 0);\r\n\r\n  var domain = [maxValue, minValue]\r\n  if (invertColorScheme){\r\n    domain = [minValue, maxValue]\r\n  }\r\n  var legendAxis = d3.axisRight()\r\n    .scale(d3.scaleLinear().domain(domain).range([1, legendHeight - margin.bottom - margin.top - 1]))\r\n    .tickSize(6)\r\n    .ticks(8);\r\n\r\n  var svg = scale_svg\r\n    .attr(\"height\", `${legendHeight}px`)\r\n    .attr(\"width\", `${legendWidth}px`)\r\n    .style(\"position\", \"absolute\")\r\n    .style(\"left\", \"0px\")\r\n    .style(\"top\", \"0px\")\r\n\r\n  svg\r\n    .select(\"g\")\r\n    .attr(\"class\", \"axis\")\r\n    .attr(\"transform\", `translate(${legendWidth - margin.left - margin.right}, ${margin.top - 1})`)\r\n    .call(legendAxis);\r\n}\r\n\r\n\r\nfunction computeColorRange (percentiles,colors){\r\n  var domain_percentiles = percentiles.slice()\r\n  domain_percentiles.unshift(0)\r\n  domain_percentiles.push(255)\r\n\r\n  var domainLength = domain_percentiles.length\r\n  var rangeLength  = colors.length\r\n\r\n  var intermediateDomain = []\r\n  for (var i=0; i<rangeLength; ++i){\r\n    intermediateDomain[i] = i/(rangeLength-1)\r\n  }\r\n  var intermediateScale = d3.scale.linear().domain(intermediateDomain).range(colors)\r\n\r\n  var range_out = []\r\n  for (var i=0; i<domainLength; ++i){\r\n    var t = i/(domainLength-1)\r\n    range_out.push(intermediateScale(t))\r\n  }\r\n  return [domain_percentiles,range_out]\r\n}\r\n\r\n\r\nfunction blankStyle (feature) {\r\n  return {\r\n    opacity: 0,\r\n    fillOpacity: 0\r\n  };\r\n}\r\n\r\nfunction range (length){\r\n  var range = []\r\n  for (var i=0; i<length; ++i){\r\n    range[i]=i\r\n  }\r\n  return range\r\n}\r\n\r\nfunction handleKeyEvent(e){\r\n  if (e && (e.charCode || e.keyCode) == 120){ // 'x' key\r\n    shared.showCirclePreview = ! shared.showCirclePreview\r\n  }\r\n  if (e && (e.charCode || e.keyCode) == 32){ // space bar\r\n    shared.showFutureInsteadOfEV = ! shared.showFutureInsteadOfEV\r\n  }\r\n  update_f.updateCirclePreviewLayer()\r\n  update_f.update_EV_preview(shared.lastMousePosition.x,shared.lastMousePosition.y)\r\n}\r\n\r\nexport default {loadContainmentFile,createMap,setLocation,getColorsFromScheme,fillScale,computeColorRange,blankStyle,range,handleKeyEvent}","var Config = require('./config.json')\r\nimport helpers_f from './helpers.js'\r\nimport shared from './shared.js'\r\nimport update_f from './update.js'\r\n\r\n\r\n/**\r\n * Loads, pre-processes and caches the layer with the given path.\r\n * This includes:\r\n * - Fetching the layer's JSON data;\r\n * - Fetching containment files.\r\n * - Preparing arrays for means, counts and histograms.\r\n * - Dispatching those computations to worker threads.\r\n */\r\nfunction loadLayer(path, isFuture, callback) {\r\n  var canvas = shared.canvas\r\n  var voronoi_shape = shared.voronoi_shape\r\n  var interComm_shape = shared.interComm_shape\r\n  if (shared.cachedLayers[path]) {\r\n    callback();\r\n    return;\r\n  }\r\n\r\n  let truePath = path\r\n  if (isFuture) {\r\n    truePath = Config.layers[path].future\r\n  }\r\n\r\n  fetch(truePath)\r\n    .then(res => res.json())\r\n    .then(json => {\r\n      console.log('Preloaded layer:', truePath)\r\n      \r\n      json.data = JSON.parse(json.data)\r\n      json.percentiles = JSON.parse(json.percentiles)\r\n\r\n      var pixels = json.data;\r\n\r\n      canvas.width = json.width\r\n      canvas.height = json.height\r\n\r\n      var tempContext = canvas.getContext(\"2d\");\r\n      tempContext.createImageData(canvas.width, canvas.height);\r\n\r\n      var len = canvas.height * canvas.width;\r\n      var workersCount = 1;\r\n      var finished = 0;\r\n      var segmentLength = len / workersCount;\r\n      var blockSize = canvas.height / workersCount;\r\n\r\n      //initalize means and counts arrays\r\n      var voronoi_means = []\r\n      var voronoi_counts = []\r\n      var voronoi_hist = {}\r\n      var entire_hist = []\r\n\r\n\r\n      for (var i=0; i<256; ++i){\r\n        entire_hist[i] = 0\r\n      }\r\n\r\n      for (var i = 0; i < voronoi_shape.features.length; ++i) {\r\n        voronoi_counts[i] = 0\r\n        voronoi_means[i] = 0\r\n        voronoi_hist[i] = []\r\n        for (var j=0; j<256; ++j){\r\n          voronoi_hist[i][j]=0\r\n        }\r\n      }\r\n\r\n      var interComm_means = []\r\n      var interComm_counts = []\r\n      var interComm_hist = {}\r\n\r\n      for (var i = 0; i < interComm_shape.features.length; ++i) {\r\n        interComm_counts[i] = 0\r\n        interComm_means[i] = 0\r\n        interComm_hist[i] = []\r\n        for (var j=0; j<256; ++j){\r\n          interComm_hist[i][j]=0\r\n        }\r\n      }\r\n\r\n      shared.firstVoronoiByInterComm = []\r\n      var firstVoronoiByInterComm = shared.firstVoronoiByInterComm\r\n\r\n      for (var i = 0; i < interComm_shape.features.length; ++i) {\r\n        firstVoronoiByInterComm[i] = 10000 //bigger than the max, ~670\r\n      }\r\n\r\n      // Return a promise.\r\n      var onWorkEnded = function(e) {\r\n        var canvasData = e.data.result;\r\n        var index = e.data.index;\r\n\r\n        var interComm_counts_portion = e.data.interComm_counts\r\n        var interComm_means_portion = e.data.interComm_means\r\n        var voronoi_counts_portion = e.data.voronoi_counts\r\n        var voronoi_means_portion = e.data.voronoi_means\r\n        var firstVoronoiByInterCommPortion = e.data.firstVoronoiByInterComm\r\n        var voronoi_hist_portion = e.data.voronoi_hist\r\n        var interComm_hist_portion = e.data.interComm_hist\r\n\r\n        for (var i = 0; i < voronoi_shape.features.length; ++i) {\r\n          voronoi_counts[i] += voronoi_counts_portion[i]\r\n          voronoi_means[i] += voronoi_means_portion[i]\r\n\r\n          for (var j=0; j<256; ++j){\r\n            voronoi_hist[i][j] += voronoi_hist_portion[i][j]\r\n          }\r\n        }\r\n\r\n        for (var i = 0; i < interComm_shape.features.length; ++i) {\r\n          interComm_counts[i] += interComm_counts_portion[i]\r\n          interComm_means[i] += interComm_means_portion[i]\r\n\r\n          for (var j=0; j<256; ++j){\r\n            interComm_hist[i][j] += interComm_hist_portion[i][j]\r\n            entire_hist[j] += interComm_hist_portion[i][j]\r\n          }\r\n          \r\n\r\n          if (firstVoronoiByInterComm[i] > firstVoronoiByInterCommPortion[i]) {\r\n            firstVoronoiByInterComm[i] = firstVoronoiByInterCommPortion[i]\r\n          }\r\n        }\r\n\r\n        tempContext.putImageData(canvasData, 0, blockSize * index);\r\n        finished++;\r\n\r\n        if (finished == workersCount) {\r\n          if(path == Config.Ecole_path){\r\n            // Here we count the number of schools\r\n              for (var i = 0; i < voronoi_shape.features.length; ++i) {\r\n                  voronoi_means[i] /= 255\r\n              }\r\n              for (var i = 0; i < interComm_shape.features.length; ++i) {\r\n                  interComm_means[i] /= 255\r\n              }\r\n          }\r\n          else{\r\n            for (var i = 0; i < voronoi_shape.features.length; ++i) {\r\n              if (voronoi_counts[i] != 0) {\r\n                voronoi_means[i] /= voronoi_counts[i]\r\n              }\r\n            }\r\n            for (var i = 0; i < interComm_shape.features.length; ++i) {\r\n              if (interComm_counts[i] != 0) {\r\n                interComm_means[i] /= interComm_counts[i]\r\n              }\r\n            }\r\n          }\r\n              \r\n          var hist_buckets = [70, 140]; //TODO: change acodring to layer (hard-coded...)\r\n\r\n          var value = canvas.toDataURL(\"png\");\r\n\r\n          update_f.updateCirclePreviewLayer()//refresh the EV overlay, the layer we want might be ready now\r\n\r\n          var colorScale = null\r\n          if (Config.layers[path] && Config.layers[path].useColorScheme){\r\n            var domain = helpers_f.range(256)\r\n            var range = helpers_f.getColorsFromScheme(Config.layers[path].colorScheme)\r\n          \r\n            colorScale = d3.scale.linear()\r\n              .range(range).domain(domain)\r\n          }\r\n          \r\n          if (Config.layers[path] && Config.layers[path].useColorScheme){\r\n            range = helpers_f.getColorsFromScheme(Config.layers[path].colorScheme)\r\n          }\r\n          \r\n          shared.cachedLayers[truePath] = {\r\n            \"url\": value,\r\n            \"tl_lat\": json.tl_lat,\r\n            \"tl_lng\": json.tl_lng,\r\n            \"br_lat\": json.br_lat,\r\n            \"br_lng\": json.br_lng,\r\n            \"width\": canvas.width,\r\n            \"height\": canvas.height,\r\n            \"voronoi_means\": voronoi_means,\r\n            \"interComm_means\": interComm_means,\r\n            \"voronoi_hist\": voronoi_hist,\r\n            \"entire_hist\":entire_hist,\r\n            \"interComm_hist\": interComm_hist,\r\n            \"hist_buckets\": hist_buckets,\r\n            \"percentiles\" : json.percentiles,\r\n            \"layerUrl\": truePath,\r\n            \"colorScale\": colorScale\r\n          }\r\n\r\n          console.log('Processed layer:', truePath)\r\n\r\n          callback();\r\n        }\r\n      };\r\n\r\n      // FIXME(liautaud): Nested callbacks is a code smell.\r\n\r\n      var domain = helpers_f.range(256)\r\n      var range = []\r\n      if (Config.layers[path] && Config.layers[path].useColorScheme){\r\n        range = helpers_f.getColorsFromScheme(Config.layers[path].colorScheme)\r\n      }\r\n      else{\r\n        var domain_range = helpers_f.computeColorRange(json.percentiles,Config.layers[path].colors)\r\n        var domain_continuous = domain_range[0]\r\n        var range_continuous = domain_range[1]\r\n        const colorScale = d3.scale.linear()\r\n          .range(range_continuous).domain(domain_continuous)\r\n\r\n        for (var i=0; i<256; ++i){\r\n          var color = d3.rgb(colorScale(i))\r\n          range.push(\"rgb(\"+color.r+\",\"+color.g+\",\"+color.b+\")\")\r\n        }\r\n      }\r\n\r\n      for (var index = 0; index < workersCount; index++) {\r\n        var worker = new Worker(\"assets/pictureProcessor.js\");\r\n        worker.onmessage = onWorkEnded;\r\n        var canvasData = tempContext.getImageData(0, blockSize * index, canvas.width, blockSize);\r\n        worker.postMessage({\r\n          canvasData: canvasData,\r\n          pixels: pixels,\r\n          index: index,\r\n          length: segmentLength,\r\n          width: canvas.width,\r\n          height: canvas.height,\r\n          voronoiContainmentData: shared.voronoiContainment.data,\r\n          interCommContainmentData: shared.interCommContainment.data,\r\n          numVoronois: voronoi_shape.features.length,\r\n          numInterComms: interComm_shape.features.length,\r\n          tl_lat: json.tl_lat,\r\n          tl_lng: json.tl_lng,\r\n          br_lat: json.br_lat,\r\n          br_lng: json.br_lng,\r\n          colorDomain: domain,\r\n          colorRange: range\r\n        });\r\n      }\r\n    })\r\n\r\n  // TODO(liautaud): Return a Promise.\r\n}\r\n\r\n\r\n/**\r\n * Changes the current layer to the one with a given path.\r\n */\r\nfunction setLayer(layerPath, isFuture) {\r\n  var update_parameters = shared.update_parameters\r\n  var imgs = shared.imgs\r\n\r\n  if (!layerPath) {\r\n    update_parameters.hide = true\r\n    update_f.updateMap()\r\n    return;\r\n  }\r\n\r\n  let truePath = layerPath\r\n  if (isFuture) {\r\n    truePath = Config.layers[layerPath].future\r\n  }\r\n\r\n  this.loadLayer(layerPath, isFuture, () => {\r\n\r\n  if (layerPath == Config.EV_path){ //TODO: add parameter \"AlwaysShowLayer\" in config?\r\n      imgs.attr(\"clip-path\", \"\")\r\n    }\r\n    else{\r\n      imgs.attr(\"clip-path\", \"url(#clip)\")\r\n    }\r\n\r\n    // Once the layer is loaded, we can get it from the cache.\r\n    const layer = shared.cachedLayers[truePath]\r\n\r\n    update_parameters.tl = new L.LatLng(layer.tl_lat, layer.tl_lng)\r\n    update_parameters.br = new L.LatLng(layer.br_lat, layer.br_lng)\r\n    update_parameters.currentGeoLat = shared.currentGeoLat\r\n    update_parameters.currentGaoLng = shared.currentGeoLng\r\n\r\n    var min = 0\r\n    var max = 255\r\n\r\n    var domain = []\r\n    var range = []\r\n    if (Config.layers[layerPath].useColorScheme){\r\n      domain = helpers_f.range(256)\r\n      range = helpers_f.getColorsFromScheme(Config.layers[layerPath].colorScheme,Config.layers[layerPath].invertColorScheme)\r\n    }\r\n    else{\r\n      var domain_range =helpers_f.computeColorRange(layer.percentiles,Config.layers[layerPath].colors)\r\n      domain = domain_range[0]\r\n      range = domain_range[1]\r\n    }\r\n\r\n\r\n    \r\n\r\n    const colorScale = layer.colorScale\r\n    shared.voronoi.style('fill', function(_, i){\r\n      //console.log(layer.voronoi_means[i],colorScale(layer.voronoi_means[i]))\r\n      if (layerPath == Config.EV_path){\r\n        return \"#00000011\" //transparent\r\n      }\r\n      return colorScale(layer.voronoi_means[i])})\r\n\r\n    min = 0//Math.min(...layer.interComm_means)\r\n    max = 255//Math.max(...layer.interComm_means)\r\n\r\n    shared.interComms.style('fill', function(_, i){\r\n      //console.log(layer.interComm_means[i],colorScale(layer.interComm_means[i]))\r\n      if (shared.highlightedInterComm != -1) { // i.e. we are zoomed in\r\n        if (i != shared.highlightedInterComm) {\r\n            return \"#000\"\r\n          \r\n        } else {\r\n          //should never happen\r\n        }\r\n      } else { // we are not zoomed in\r\n        if (!Config.layers[layerPath].useColorScheme){\r\n          return \"#00000011\"\r\n        }\r\n        return colorScale(layer.interComm_means[i])\r\n      }})\r\n      \r\n\r\n\r\n    // Reset the width and height of the canvas.\r\n    shared.canvas.width = layer.width\r\n    shared.canvas.height = layer.height\r\n\r\n    // Update the bounding box and current coordinates.\r\n    update_parameters.hide = false\r\n\r\n    update_f.updateMap()\r\n    shared.currentLayerPath = layerPath\r\n    imgs.attr('xlink:href', layer.url)\r\n\r\n    d3.select(shared.legend_element).style(\"display\",\"none\")\r\n\r\n    if (layerPath != Config.EV_path){\r\n      d3.select(shared.legend_element).style(\"display\",\"block\")\r\n      helpers_f.fillScale(shared.color_legend_canvas,shared.color_legend_svg,colorScale,Config.layers[layerPath].min_value,Config.layers[layerPath].max_value,Config.layers[layerPath].invertColorScheme)\r\n    }\r\n  })\r\n\r\n  shared.isFuture = isFuture\r\n\r\n  update_f.updateCirclePreviewLayer()\r\n\r\n  update_f.update_chart(shared.currentLayerPath)\r\n  update_f.update_text_school(shared.currentLayerPath)\r\n\r\n  update_f.update_EV_preview(shared.lastMousePosition.x,shared.lastMousePosition.y)\r\n}\r\n\r\nfunction setEVLayer(path){\r\n  shared.imgs_EV.attr(\"xlink:href\", shared.cachedLayers[Config.EV_path].url)\r\n}\r\n\r\nexport default {loadLayer,setLayer,setEVLayer}","var Config = require('./config.json')\r\nimport helpers_f from './helpers.js'\r\nimport shared from './shared.js'\r\nimport update_f from'./update.js'\r\n\r\n/**\r\n * returns a function that, gived data p and voronoi index j, returns one if and only if the voronoi j is inside the interComm interCommIndex\r\n */\r\nfunction oneIfInInterComm(interCommIndex) {\r\n  function oneIfInInterComm_(p, j) {\r\n    if (shared.firstVoronoiByInterComm[interCommIndex] <= j && (interCommIndex == shared.interComm_shape.features.length - 1 || shared.firstVoronoiByInterComm[interCommIndex + 1] > j)) {\r\n      return 1\r\n    } else {\r\n      return 0\r\n    }\r\n  }\r\n  return oneIfInInterComm_\r\n}\r\n\r\n/**\r\n * Defines the voronoi entity. Given an svg container (and some opacity parameters), will return a d3.selectAll(\"path\") element defining the inner areas (i.e. voronois)\r\n */\r\nfunction defineVoronoi(svg,emptyOpacity,fullOpacity){\r\n  return svg.append(\"g\").selectAll(\"path\")\r\n    .data(shared.voronoi_shape.features)\r\n    .enter().append('path')\r\n    .attr('d', shared.pathGenerator)\r\n    .attr('vector-effect', 'non-scaling-stroke')\r\n    .style('stroke', \"#666\")\r\n    .style(\"fill-opacity\", emptyOpacity)\r\n    .style(\"stroke-opacity\", emptyOpacity)\r\n    .on(\"mouseover\", function(d, i) { \r\n      // when the mouse hovers it, it should show the data behind, and become transparent\r\n      d3.select(this).style('fill-opacity', emptyOpacity);\r\n\r\n      //update the data clip to show the layer inside this voronoi\r\n      shared.defs_path.datum(d.geometry)\r\n      update_f.update_clip()\r\n\r\n      //additionally, update the right elements according to current voronoi\r\n      shared.currentChartIndex = i\r\n      shared.currentChartIndexIsVoronoi = true\r\n      update_f.update_chart(shared.currentLayerPath)\r\n      update_f.update_text_school(shared.currentLayerPath)\r\n\r\n      if (shared.highlightedInterComm != -1){\r\n        shared.onNewName(shared.interComm_shape.features[shared.highlightedInterComm].properties.nomgroup)\r\n      }\r\n    })\r\n    .on(\"mouseout\", function(d, i) {\r\n      //when the mouse goes out of this area, we should revert changes\r\n      if (shared.highlightedInterComm != -1) {\r\n        //if we are inside an interComm, fill again voronois inside the current interComm\r\n        d3.select(this).style('fill-opacity', oneIfInInterComm(shared.highlightedInterComm)(d, i));\r\n        d3.select(this).style('stroke-opacity', oneIfInInterComm(shared.highlightedInterComm)(d, i));\r\n      }\r\n\r\n      //revert clip for this area\r\n      shared.defs_path.datum([])\r\n      update_f.update_clip()\r\n      shared.svg_EV.style(\"display\",\"none\")\r\n      shared.svg_circle_EV.style(\"display\",\"none\")\r\n\r\n      shared.currentChartIndex = -1 // none selected, display data about entire Paris\r\n      update_f.update_chart(shared.currentLayerPath)\r\n      update_f.update_text_school(shared.currentLayerPath)\r\n\r\n      shared.lastMousePosition={x:-300,y:-300}\r\n    })\r\n    .on(\"dblclick\", function(d, i) {\r\n      shared.interComms.style(\"pointer-events\", \"all\")\r\n      shared.map.fitBounds(shared.initialBounds) // zoom back to paris\r\n      shared.highlightedInterComm = -1\r\n\r\n      shared.interComms.style(\"fill\", function(_,j){\r\n        if (!Config.layers[shared.currentLayerPath].useColorScheme){\r\n          return \"#00000011\"\r\n        }\r\n        return shared.cachedLayers[shared.currentLayerPath].colorScale(shared.cachedLayers[shared.currentLayerPath].interComm_means[j])\r\n      })\r\n      shared.interComms.style(\"fill-opacity\", fullOpacity)\r\n      shared.voronoi.style(\"fill-opacity\", emptyOpacity)\r\n      shared.voronoi.style(\"stroke-opacity\", emptyOpacity)\r\n\r\n      shared.defs_path.datum([])\r\n      update_f.update_clip()\r\n      shared.svg_EV.style(\"display\",\"none\")\r\n      shared.svg_circle_EV.style(\"display\",\"none\")\r\n    })\r\n    .on(\"mousemove\",function(){\r\n      if (d3.event && d3.event.clientX && d3.event.clientY && shared.currentLayerPath != Config.EV_path){\r\n        shared.lastMousePosition={x:d3.event.clientX,y:d3.event.clientY - shared.mapElement.getBoundingClientRect().top}\r\n        update_f.update_EV_preview(shared.lastMousePosition.x,shared.lastMousePosition.y)\r\n      }\r\n      else{\r\n        shared.svg_EV.style(\"display\",\"none\")\r\n        shared.svg_circle_EV.style(\"display\",\"none\")\r\n      }\r\n    })\r\n    .on(\"mousedown\",function(){\r\n      if (d3.event && d3.event.clientX && d3.event.clientY && shared.currentLayerPath != Config.EV_path){\r\n        shared.lastMouseDownX = d3.event.clientX\r\n        shared.lastMouseDownY = d3.event.clientY - shared.mapElement.getBoundingClientRect().top\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * Defines the voronoi entity. Given an svg container (and some opacity parameters), will return a d3.selectAll(\"path\") element defining the inner areas (i.e. voronois)\r\n */\r\nfunction defineInterComms(svg,emptyOpacity,fadedOpacity,fullOpacity){\r\n  return svg.append(\"g\").selectAll(\"path\")\r\n    .data(shared.interComm_shape.features)\r\n    .enter().append('path')\r\n    .attr('d', shared.path)\r\n    .attr('vector-effect', 'non-scaling-stroke')\r\n    .style('stroke', \"#333\")\r\n    .attr(\"fill\", \"#fff\")\r\n    .attr(\"fill-opacity\", fullOpacity)\r\n    .style(\"pointer-events\", \"all\")\r\n    .on(\"mouseover\", function(d, i) {\r\n      if (shared.highlightedInterComm != -1) { // i.e. we are zoomed in\r\n        if (i != shared.highlightedInterComm) {\r\n          if (!Config.layers[shared.currentLayerPath].useColorScheme){\r\n            d3.select(this).style(\"fill\",\"#00000011\")\r\n          }\r\n          else{\r\n            d3.select(this).style(\"fill\",shared.cachedLayers[shared.currentLayerPath].colorScale(shared.cachedLayers[shared.currentLayerPath].interComm_means[i]))\r\n          }\r\n          \r\n          d3.select(this).style('fill-opacity', fullOpacity);\r\n        } else {\r\n          //should never happen\r\n        }\r\n      } else { // we are zoomed in a particular interComm\r\n        d3.select(this).style('fill-opacity', fadedOpacity);\r\n      }\r\n      shared.currentChartIndex = i\r\n      shared.currentChartIndexIsVoronoi = false\r\n      update_f.update_chart(shared.currentLayerPath)\r\n      update_f.update_text_school(shared.currentLayerPath)\r\n\r\n      //console.log(shared.interComm_shape.features[i].properties.nomgroup)\r\n      shared.onNewName(shared.interComm_shape.features[i].properties.nomgroup)\r\n    })\r\n    .on(\"mouseout\", function(d, i) {\r\n      if (shared.highlightedInterComm != -1) { // i.e. we are not zoomed in\r\n        if (i != shared.highlightedInterComm) {\r\n          d3.select(this).style(\"fill\",\"#000\")\r\n          d3.select(this).style('fill-opacity', fadedOpacity);\r\n        } else {\r\n          //should never happen\r\n        }\r\n      } else { // we are zoomed in a particular interComm\r\n        d3.select(this).style('fill-opacity', fullOpacity);\r\n      }\r\n      shared.svg_EV.style(\"display\",\"none\")\r\n      shared.svg_circle_EV.style(\"display\",\"none\")\r\n\r\n      shared.currentChartIndex = -1 // none selected, display data about entire Paris\r\n      update_f.update_chart(shared.currentLayerPath)\r\n      update_f.update_text_school(shared.currentLayerPath)\r\n      \r\n      shared.lastMousePosition={x:-300,y:-300} //be sure not to display the preview circle!\r\n      shared.onNewName('')\r\n    })\r\n    .on(\"click\", function(d, i) {\r\n      if (!d3.event || !d3.event.clientX || !d3.event.clientY ||\r\n          Math.abs(d3.event.clientX - shared.lastMouseDownX) >= 5 || Math.abs(d3.event.clientY - shared.lastMouseDownY) >= 5){\r\n        return\r\n      }\r\n      shared.interComms.style(\"pointer-events\", \"all\") // now we can click/hover on every department\r\n      d3.select(this).style(\"pointer-events\", \"none\") // except the current one!\r\n\r\n      shared.interComms.style(\"fill\",\"#000\")\r\n      shared.interComms.style('fill-opacity', fadedOpacity);\r\n      d3.select(this).style('fill-opacity', emptyOpacity);\r\n      shared.highlightedInterComm = i\r\n\r\n\r\n      shared.voronoi.style(\"fill-opacity\", oneIfInInterComm(i))\r\n      shared.voronoi.style(\"stroke-opacity\", oneIfInInterComm(i))\r\n\r\n      var BBox = d3.select(this).node().getBBox()\r\n      var neBound = shared.map.layerPointToLatLng(L.point(BBox.x, BBox.y))\r\n      var swBound = shared.map.layerPointToLatLng(L.point(BBox.x + BBox.width, BBox.y + BBox.height))\r\n      shared.map.fitBounds(L.latLngBounds(neBound, swBound)) // zoom to department\r\n      shared.svg_EV.attr(\"style\",\"display:none;\")\r\n      shared.svg_circle_EV.attr(\"style\",\"display:none;\")\r\n    })\r\n    .on(\"mousemove\",function(){\r\n      if (d3.event && d3.event.clientX && d3.event.clientY && shared.currentLayerPath != Config.EV_path){\r\n        shared.lastMousePosition={x:d3.event.clientX,y:d3.event.clientY - shared.mapElement.getBoundingClientRect().top}\r\n        update_f.update_EV_preview(shared.lastMousePosition.x,shared.lastMousePosition.y)\r\n      }\r\n      else{\r\n        shared.svg_EV.style(\"display\",\"none\")\r\n        shared.svg_circle_EV.style(\"display\",\"none\")\r\n      }\r\n    })\r\n    .on(\"mousedown\",function(){\r\n      if (d3.event && d3.event.clientX && d3.event.clientY){\r\n        //console.log(d3.event)\r\n        shared.lastMouseDownX = d3.event.clientX\r\n        shared.lastMouseDownY = d3.event.clientY - shared.mapElement.getBoundingClientRect().top\r\n      }\r\n    });\r\n}\r\n\r\nexport default {defineVoronoi,defineInterComms}","import Config from './config.json'\r\n\r\nimport helpers_f from './helpers.js'\r\nimport update_f from './update.js'\r\nimport layers_f from './layers.js'\r\nimport shapes_f from './shapes.js'\r\nimport shared from './shared.js'\r\n\r\nexport default function(element, EV_svg_element, EV_circle_svg_element, legend_element, error, interComm_shape, voronoi_shape, interCommContainment, voronoiContainment, onHistChange, onSchools, onNewName) {\r\n  shared.interComm_shape = interComm_shape\r\n  shared.voronoi_shape = voronoi_shape\r\n  shared.onHistChange = onHistChange\r\n  shared.onSchools = onSchools\r\n  shared.onNewName = onNewName\r\n  shared.legend_element = legend_element\r\n  shared.interCommContainment = interCommContainment\r\n  shared.voronoiContainment = voronoiContainment\r\n  shared.mapElement = element\r\n\r\n  document.body.addEventListener(\"keypress\",helpers_f.handleKeyEvent)\r\n\r\n  const default_tl = new L.LatLng(\r\n    Config.viewport.topLatitude,\r\n    Config.viewport.leftLongitude\r\n  )\r\n  const default_br = new L.LatLng(\r\n    Config.viewport.bottomLatitude,\r\n    Config.viewport.rightLongitude\r\n  )\r\n  shared.initialBounds = L.latLngBounds(default_tl, default_br)\r\n\r\n  d3.select(legend_element).style(\"display\",\"none\")\r\n  shared.color_legend_canvas = d3.select(legend_element)\r\n    .append(\"canvas\")\r\n\r\n  shared.color_legend_svg = d3.select(legend_element)\r\n    .append(\"svg\")\r\n  shared.color_legend_svg.append(\"g\")\r\n\r\n\r\n  /**\r\n   * Sets the position of the geolocation marker to the current position\r\n   * of the user (computed using the Geolocation API).\r\n   */\r\n  function setLocationFromCurrent() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(pos => {\r\n        helpers_f.setLocation(pos.coords.latitude, pos.coords.longitude)\r\n      })\r\n    }\r\n  }\r\n\r\n  setLocationFromCurrent()\r\n\r\n  helpers_f.createMap(element) //TODO: if the window is small, the zoom is too far (> 14) and the map is grey, untill we zoom in\r\n\r\n  L.geoJson(interComm_shape, {\r\n    style: helpers_f.blankStyle\r\n  }).addTo(shared.map); //needed! otherwise a svg isn't generated, we use this one for practical purposes\r\n\r\n  var svg = d3.select(element).select(\".leaflet-zoom-animated\")\r\n\r\n  function projectPoint(x, y) {\r\n    var point = shared.map.latLngToLayerPoint(new L.LatLng(y, x));\r\n    this.stream.point(point.x, point.y);\r\n  }\r\n  var transform = d3.geo.transform({\r\n    point: projectPoint\r\n  });\r\n  shared.pathGenerator = d3.geo.path()\r\n    .projection(transform);\r\n\r\n  var defs = svg.append(\"defs\");\r\n  shared.defs_path = defs.append(\"path\")\r\n    .attr(\"id\", \"clip_path\")\r\n\r\n  defs.append(\"clipPath\")\r\n    .attr(\"id\", \"clip\")\r\n    .append(\"use\")\r\n    .attr(\"xlink:href\", \"#clip_path\");\r\n\r\n  shared.imgs = svg.selectAll(\"image\").data([0])\r\n    .enter()\r\n    .append(\"svg:image\")\r\n    .attr('x', 0)\r\n    .attr('y', 0)\r\n    .attr(\"xlink:href\", \"\")\r\n    .attr(\"clip-path\", \"\")\r\n    .attr(\"preserveAspectRatio\",\"none\")\r\n    .style(\"object-fit\",\"cover\")\r\n\r\n  update_f.update_clip()\r\n\r\n\r\n  var emptyOpacity = 0\r\n  var fadedOpacity = 0.4\r\n  var semiFullOpacity = 0.7\r\n  var fullOpacity = 1\r\n\r\n  shared.svg_EV = d3.select(EV_svg_element)\r\n    .attr(\"style\",\"display:none;\")\r\n\r\n  shared.svg_circle_EV = d3.select(EV_circle_svg_element)\r\n    .attr(\"style\",\"display:none;\")\r\n\r\n  shared.imgs_EV = shared.svg_EV.selectAll(\"image\").data([0])\r\n    .enter()\r\n    .append(\"svg:image\")\r\n    .attr('x', 0)\r\n    .attr('y', 0)\r\n    .attr(\"xlink:href\", \"\")\r\n    .attr(\"preserveAspectRatio\",\"none\")\r\n    .style(\"object-fit\",\"cover\")\r\n\r\n  var shape_EV = shared.svg_EV.append(\"g\")\r\n  shape_EV\r\n    .selectAll(\"path\")\r\n    .data([interComm_shape.features[0]])\r\n    .enter().append('path')\r\n    .attr('vector-effect', 'non-scaling-stroke')\r\n    .style('stroke', \"#000\")\r\n    .style(\"fill-opacity\", 0)\r\n    .style(\"stroke-opacity\", 1)\r\n\r\n\r\n  shared.voronoi = shapes_f.defineVoronoi(svg,emptyOpacity,fullOpacity)\r\n\r\n  shared.interComms = shapes_f.defineInterComms(svg,emptyOpacity,fadedOpacity,fullOpacity)\r\n\r\n  shared.markerIcon = {\r\n    iconUrl: 'assets/marker.png',\r\n    iconSize: [24, 24],\r\n    iconAnchor: [12, 24]\r\n  }\r\n\r\n  shared.markerElement = svg.append(\"g\").selectAll(\"image\").data([0])\r\n    .enter()\r\n    .append(\"svg:image\")\r\n    .attr(\"xlink:href\", shared.markerIcon.iconUrl)\r\n    .attr(\"width\", shared.markerIcon.iconSize[0])\r\n    .attr(\"height\", shared.markerIcon.iconSize[1])\r\n    .attr('visibility', 'hidden')\r\n    .style(\"pointer-events\", \"none\")\r\n\r\n  shared.canvas = document.createElement(\"canvas\")\r\n\r\n  shared.update_parameters = {\r\n    hide: true,\r\n  };\r\n\r\n  shared.map.on('viewreset', function(){update_f.updateMap()})\r\n\r\n  const zoomOut = shared.map.zoomOut.bind(shared.map)\r\n  const zoomIn = shared.map.zoomIn.bind(shared.map)\r\n\r\n  return [layers_f.loadLayer, layers_f.setLayer, helpers_f.setLocation, layers_f.setEVLayer, zoomOut, zoomIn]\r\n}","<template>\r\n  <div class=\"map-container\">\r\n    <section ref=\"map\" class=\"map\"></section>\r\n\r\n    <svg ref=\"circle_svg\" class=\"EV-circle-svg\"></svg> \r\n    <svg ref=\"svg\" class=\"EV-svg\"></svg>\r\n\r\n    <section class=\"year\" v-if=\"hasFutureAvailable && !isFuture\">\r\n      <p>2012</p>\r\n      <a href=\"#\" @click.prevent=\"() => $emit('toggleFuture')\"\r\n        v-bind:style=\"{'color': futureColor}\">\r\n        <i class=\"fas fa-fast-forward\"></i>\r\n      </a>\r\n    </section>\r\n    <section class=\"year\" v-else-if=\"hasFutureAvailable\">\r\n      <p>2030</p>\r\n      <a href=\"#\" @click.prevent=\"() => $emit('toggleFuture')\"\r\n        v-bind:style=\"{'color': presentColor}\">\r\n        <i class=\"fas fa-fast-backward\"></i>\r\n      </a>\r\n    </section>\r\n\r\n    <section class=\"legend\">\r\n      <div ref=\"legend\" class=\"legend-inner\"></div>\r\n\r\n      <section v-if=\"isEspacesVerts\">\r\n        <h3>{{ $t('legend.natural-spaces') }}</h3>\r\n\r\n        <figure>\r\n          <div class=\"item\" :style=\"{backgroundColor: forestColor}\"></div>\r\n          <figcaption v-html=\"$t('legend.wood')\"></figcaption>\r\n        </figure>\r\n        <figure>\r\n          <div class=\"item\" :style=\"{backgroundColor: waterColor}\"></div>\r\n          <figcaption v-html=\"$t('legend.water')\"></figcaption>\r\n        </figure>\r\n        <figure>\r\n          <div class=\"item\" :style=\"{backgroundColor: greenColor}\"></div>\r\n          <figcaption v-html=\"$t('legend.leisure')\"></figcaption>\r\n        </figure>\r\n      </section>\r\n\r\n      <section v-else-if=\"currentUnit\">\r\n        <p>({{ currentUnit }})</p>\r\n      </section>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Config from '../config.json'\r\nimport displayMap from '../map'\r\nimport helpers_f from '../helpers.js'\r\n\r\nexport default {\r\n  props: ['layers', 'currentLayerPath', 'currentLocation', 'currentZoom', 'isFuture'],\r\n  data: () => ({\r\n    loadLayer: () => {},\r\n    setLayer: () => {},\r\n    setLocation: () => {},\r\n    setEVLayer: () => {},\r\n    zoomMinus: () => {},\r\n    zoomPlus: () => {},\r\n  }),\r\n\r\n  computed: {\r\n    isEspacesVerts() {\r\n      return this.currentLayerPath == Config.EV_path\r\n    },\r\n    \r\n    currentLayerId() {\r\n      return Config.layers[this.currentLayerPath].id\r\n    },\r\n\r\n    currentUnit() {\r\n      if (this.currentLayerPath) {\r\n        return this.$t(`layers.${this.currentLayerId}.unit`)\r\n      }\r\n    },\r\n\r\n    forestColor() {\r\n      return Config.layers[Config.EV_path].colors[0]\r\n    },\r\n\r\n    waterColor() {\r\n      return Config.layers[Config.EV_path].colors[1]\r\n    },\r\n\r\n    greenColor() {\r\n      return Config.layers[Config.EV_path].colors[2]\r\n    },\r\n\r\n    futureColor() {\r\n      return Config.color_future\r\n    },\r\n\r\n    presentColor() {\r\n      return Config.color_present\r\n    },\r\n\r\n    currentYear() {\r\n      return new Date().getFullYear()\r\n    },\r\n\r\n    hasFutureAvailable() {\r\n      return !!Config.layers[this.currentLayerPath].future\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Triggers when the component has been mounted.\r\n   * This is used to create the Leaflet map and bind the event handlers.\r\n   */\r\n  mounted () {\r\n    var urlInterComm = 'data/intercommunalites.geojson'\r\n    var urlVoronoi = 'data/voronois.json'\r\n    var urlInterCommContainment = 'data/intercomm_cont.json'\r\n    var urlVoronoiContainment = 'data/voronoi_cont.json'\r\n\r\n    queue()\r\n      .defer(d3.json, urlInterComm)\r\n      .defer(d3.json, urlVoronoi)\r\n      .await((e, d, v) => {\r\n        helpers_f.loadContainmentFile(urlVoronoiContainment).then(voronoiContainment => {\r\n          helpers_f.loadContainmentFile(urlInterCommContainment).then(interCommContainment => {\r\n            // FIXME(liautaud): Please, clean up this mess.\r\n            [this.loadLayer, this.setLayer, this.setLocation, this.setEVLayer, this.zoomMinus, this.zoomPlus] =\r\n              displayMap(\r\n                this.$refs.map,\r\n                this.$refs.svg,\r\n                this.$refs.circle_svg,\r\n                this.$refs.legend,\r\n                e, d, v, interCommContainment, voronoiContainment,\r\n                (x, y) => this.$emit('newHistogram', x, y),\r\n                n => this.$emit('newSchools', n),\r\n                n => this.$emit('newName',n)\r\n              )\r\n\r\n            Object.keys(Config.layers).forEach(layerPath => {\r\n              this.layers[layerPath].path=layerPath;\r\n\r\n              // Preload all the layers.\r\n              this.loadLayer(\r\n                layerPath,\r\n                false,\r\n                () => {\r\n                  this.layers[layerPath].loaded = true\r\n                  \r\n                  if (layerPath == Config.EV_path){\r\n                    //this.setEVLayer(layerPath)\r\n                  }          \r\n                }\r\n              )\r\n\r\n              // Also preload the future layers when applicable.\r\n              if (Config.layers[layerPath].future) {\r\n                console.log('Preloading future layer:', Config.layers[layerPath].future)\r\n                this.loadLayer(layerPath, true, () => {})\r\n              }\r\n            })\r\n\r\n            this.setLayer(this.currentLayerPath)\r\n          })\r\n        })\r\n      })\r\n  },\r\n\r\n  watch: {\r\n    /**\r\n     * Watches changes to the currentLayerPath prop, and updates the map.\r\n     */\r\n    currentLayerPath() {\r\n      this.setLayer(this.currentLayerPath, this.hasFutureAvailable && this.isFuture)\r\n    },\r\n\r\n    /**\r\n     * Watches changes to the isFuture prop, and updates the map.\r\n     */\r\n    isFuture() {\r\n      this.setLayer(this.currentLayerPath, this.hasFutureAvailable && this.isFuture)\r\n    },\r\n\r\n    /**\r\n     * Watches changes to the currentLocation prop, and updates the marker.\r\n     */\r\n    currentLocation([lat, lng]) {\r\n      this.setLocation(lat, lng)\r\n    },\r\n\r\n    /**\r\n     * Watches changes to the currentZoom prop, and updates the marker.\r\n     */\r\n    currentZoom(after, before) {\r\n      // FIXME(liautaud): This only takes +/-1 changes into account.\r\n      // It's a dirty hack anyway, we should hold the currentZoom instead.\r\n      if (after < before) {\r\n        this.zoomMinus()\r\n      } else {\r\n        this.zoomPlus()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" type=\"text/scss\">\r\n.map-container {\r\n  flex-grow: 1;\r\n  position: relative;\r\n}\r\n\r\n.map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.leaflet-overlay-pane {\r\n  mix-blend-mode: multiply;\r\n\r\n  image {\r\n    image-rendering: optimizespeed;\r\n  }\r\n}\r\n\r\n.leaflet-top, .leaflet-bottom {\r\n  z-index: 300 !important;\r\n}\r\n\r\n.EV-svg {\r\n  border-radius: 50%;\r\n  width: 120px;\r\n  height: 120px;\r\n  border: 3px solid;\r\n  border-color:#000;\r\n  box-shadow: 0 0 3px rgba(#000, .3);\r\n  position: absolute;\r\n  background: #fff;\r\n  display: flex;\r\n  pointer-events: none;\r\n  top: -120px;\r\n  margin-left: -20px;\r\n  margin-bottom: -20px;\r\n\r\n  image {\r\n    image-rendering: optimizespeed;\r\n  }\r\n}\r\n\r\n.EV-circle-svg {\r\n  border-radius: 50%;\r\n  width: 80px;\r\n  height: 80px;\r\n  border: 2px dashed;\r\n  border-color:rgba(#000,0.7);\r\n  position: absolute;\r\n  background: #fff0;\r\n  display: flex;\r\n  pointer-events: none;\r\n  top: -120px;\r\n}\r\n\r\n.year {\r\n  position: absolute;\r\n  top: 35px;\r\n  right: 25px;\r\n\r\n  box-shadow: 0 0 2px rgba(0, 0, 0, .3);\r\n  background: #fff;\r\n\r\n  display: flex;\r\n\r\n  p {\r\n    margin: 5px 20px;\r\n    color: #666;\r\n    font-size: 25pt;\r\n    font-family: 'IBM Plex Sans', sans-serif;\r\n  }\r\n\r\n  a {\r\n    display: flex;\r\n    align-items: center;\r\n    border-left: 1px solid #ddd;\r\n    font-size: 18pt;\r\n    outline: none;\r\n    text-decoration: none;\r\n    padding: 15px;\r\n    color: #444;\r\n  }\r\n}\r\n\r\n.legend {\r\n  position: absolute;\r\n  bottom: 40px;\r\n  right: 30px;\r\n  text-align: center;\r\n  padding: 5px 10px;\r\n\r\n  box-shadow: 0 0 2px rgba(0, 0, 0, .3);\r\n  background: #fff;\r\n\r\n  h3 {\r\n    text-transform: uppercase;\r\n    margin: 5px;\r\n  }\r\n\r\n  p, figcaption {\r\n    font-size: .6em;\r\n    font-style: italic;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  figure {\r\n    margin: 15px 10px;\r\n  }\r\n\r\n  .item {\r\n    width: 70px;\r\n    height: 28px;\r\n    border: 1px solid #000;\r\n    margin: 5px auto;\r\n  }\r\n}\r\n\r\n.legend-inner {\r\n  height: 200px;\r\n  width: 70px;\r\n  margin: 0 auto 10px;\r\n  position: relative;\r\n}\r\n\r\n.legend-inner canvas {\r\n  box-sizing: border-box;\r\n  border: 1px solid #000;\r\n  border-right: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=f224b8de&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Map.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"sidebar\"},[(!_vm.isEspacesVerts && _vm.currentLayerPath && _vm.layers[_vm.currentLayerPath].loaded)?[_c('article',[_c('h2',[_vm._v(_vm._s(_vm.$t((\"layers.\" + _vm.currentLayerId + \".title\"))))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.$t((\"layers.\" + _vm.currentLayerId + \".content\")))}})]),_c('article',{staticClass:\"contextual-info\"},[(_vm.interCommName)?_c('h4',[_vm._v(\"\\n        \"+_vm._s(_vm.interCommName)+\"\\n      \")]):_c('h4',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('sidebar.whole-region'))+\"\\n      \")]),(_vm.interCommName && _vm.schoolCount)?_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('sidebar.child-count', {count: _vm.schoolCount}))}}):_vm._e(),_c('Histogram',{attrs:{\"x\":_vm.currentHistogramX,\"y\":_vm.currentHistogramY,\"currentLayerPath\":_vm.currentLayerPath}})],1)]:[_c('article',[_c('h2',[_vm._v(_vm._s(_vm.$t('intro.title')))]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('intro.about'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('intro.start'))}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('intro.future'))}})]),_c('article',{staticClass:\"about\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('intro.credits'))}}),_vm._m(0)])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"slideshow\"},[_c('a',{attrs:{\"href\":\"https://www.epfl.ch/\"}},[_c('img',{attrs:{\"src\":\"assets/epfl.png\",\"alt\":\"Logo EPFL\"}})]),_c('a',{attrs:{\"href\":\"https://naturalcapitalproject.stanford.edu/\"}},[_c('img',{attrs:{\"src\":\"assets/natcap.jpg\",\"alt\":\"Logo NatCap\"}})])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"histogram\"},[_c('svg',{ref:\"svg\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"histogram\">\r\n    <svg ref=\"svg\"></svg>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport Config from '../config.json'\r\nimport helpers from '../helpers.js'\r\n\r\nexport default {\r\n  props: ['x', 'y', 'currentLayerPath'],\r\n  data: () => ({\r\n    updateChart: data => {},\r\n  }),\r\n  \r\n  mounted() {\r\n    // Define the dimensions of the histogram.\r\n    const margin = {top: 5, right: 10, bottom: 45, left: 65}\r\n    const width = 380\r\n    const height = 250\r\n    const innerWidth = width - margin.left - margin.right \r\n    const innerHeight = height - margin.top - margin.bottom\r\n\r\n    // Define the X and Y scales.\r\n    const x = d3.scaleLinear().rangeRound([0, innerWidth])\r\n    const y = d3.scaleLinear().rangeRound([innerHeight, 0])\r\n\r\n    // Prepare the SVG element.\r\n    const svg = d3.select(this.$refs.svg)\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height)\r\n      .append(\"g\")\r\n        .attr(\"transform\", `translate(${margin.left}, ${margin.top})`)\r\n\r\n    // Add the two axes.\r\n    const xAxis = svg.append(\"g\")\r\n      .attr(\"transform\", `translate(0, ${innerHeight})`)\r\n    const yAxis = svg.append(\"g\")\r\n\r\n    // Add the legend.\r\n    const yLegend = svg.append(\"text\")\r\n      .attr(\"transform\", \"rotate(-90)\")\r\n      .attr(\"x\", 0 - (innerHeight / 2))\r\n      .attr(\"y\", 0 - margin.left)\r\n      .attr(\"dy\", \"1em\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .style(\"font-size\", \"9pt\")\r\n      .style(\"font-style\", \"italic\")\r\n      .text(this.$t('sidebar.number-points'))\r\n\r\n    const xLegend = svg.append(\"text\")             \r\n        .attr(\"transform\", `translate(${innerWidth / 2} , ${height - 10})`)\r\n        .style(\"text-anchor\", \"middle\")\r\n        .style(\"font-size\", \"9pt\")\r\n        .style(\"font-style\", \"italic\")\r\n        .text(this.$t(`layers.${this.currentLayerId}.hist_legend`))\r\n\r\n    /**\r\n     * Updates the histogram using new data for the bars.\r\n     */\r\n    this.updateChart = (xData, yData) => {\r\n      const data = xData.map((x, i) => ({x, y: yData[i]}))\r\n      \r\n      // Define a \"layer scale\", which maps values on the X axis\r\n      // to the real values according to the current layer's scale.\r\n      const currentLayer = Config.layers[this.currentLayerPath]\r\n      const layerScale = d3.scaleLinear()\r\n        .domain([0, 255])\r\n        .range([currentLayer.min_value, currentLayer.max_value])\r\n\r\n      // Also define a \"color scale\", so that the bars in the\r\n      // histogram can have the same color as in the legend.\r\n      const colorScale = d3.scale.linear()\r\n        .range(helpers.getColorsFromScheme(currentLayer.colorScheme))\r\n        .domain(xData)\r\n\r\n      // Update the legend text.\r\n      xLegend.text(currentLayer.hist_legend)\r\n\r\n      // Find the x and y minimums and maximums.\r\n      const nonZero = xData.filter(x => yData[x] > 0)\r\n      const xMin = nonZero[0]\r\n      const xMax = nonZero.slice(-1)[0]\r\n      const yMax = d3.max(yData)\r\n\r\n      // Apply the domains to the scales.\r\n      const xs = x.domain([xMin, xMax])\r\n      const ys = y.domain([0, yMax])\r\n\r\n      // Update the axes.\r\n      yAxis.call(d3.axisLeft(ys))\r\n      xAxis.call(\r\n        d3.axisBottom(xs)\r\n          .ticks(5)\r\n          .tickFormat(t => layerScale(t).toPrecision(3))\r\n          .tickPadding(6)\r\n      )\r\n\r\n      // Update the bars.\r\n      const bars = svg.selectAll(\"rect\")\r\n        .data(data, d => d.x)\r\n      bars\r\n        .enter()\r\n          .append(\"rect\")\r\n          .attr(\"class\", \"bar\")\r\n          .attr(\"x\", 1)\r\n        .merge(bars)\r\n          .attr(\"transform\", d => `translate(${xs(d.x)}, ${ys(d.y)})`)\r\n          .attr(\"width\", d => Math.ceil(innerWidth / (xMax - xMin)) + 1)\r\n          .attr(\"height\", d => innerHeight - ys(d.y))\r\n          .attr(\"fill\", d => colorScale(d.x))\r\n        .exit()\r\n          .remove()\r\n    }\r\n\r\n    this.updateChart(this.x, this.y)\r\n  },\r\n\r\n  watch: {\r\n    /**\r\n     * Watches changes to the x prop, and updates the histogram.\r\n     */\r\n    x() {\r\n      this.updateChart(this.x, this.y)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    currentLayerId() {\r\n      return Config.layers[this.currentLayerPath].id\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.histogram {\r\n  margin-left: -10px;\r\n  margin-right: -10px;\r\n}\r\n\r\n.histogram svg {\r\n  display: block;\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Histogram.vue?vue&type=template&id=40135842&\"\nimport script from \"./Histogram.vue?vue&type=script&lang=js&\"\nexport * from \"./Histogram.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Histogram.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Histogram.vue\"\nexport default component.exports","<template>\r\n  <section class=\"sidebar\">\r\n    <template v-if=\"!isEspacesVerts && currentLayerPath && layers[currentLayerPath].loaded\">\r\n      <article>\r\n        <h2>{{ $t(`layers.${currentLayerId}.title`) }}</h2>\r\n        <div v-html=\"$t(`layers.${currentLayerId}.content`)\"></div>\r\n      </article>\r\n\r\n      <article class=\"contextual-info\">\r\n        <h4 v-if=\"interCommName\">\r\n          {{interCommName}}\r\n        </h4>\r\n\r\n        <h4 v-else>\r\n          {{ $t('sidebar.whole-region') }}\r\n        </h4>\r\n\r\n        <p\r\n          v-if=\"interCommName && schoolCount\" \r\n          v-html=\"$t('sidebar.child-count', {count: schoolCount})\">\r\n        </p>\r\n\r\n        <Histogram\r\n          :x=\"currentHistogramX\"\r\n          :y=\"currentHistogramY\"\r\n          :currentLayerPath=\"currentLayerPath\" />\r\n      </article>\r\n    </template>\r\n\r\n    <template v-else>\r\n      <article>\r\n        <h2>{{ $t('intro.title') }}</h2>\r\n        <p v-html=\"$t('intro.about')\"></p>\r\n        <p v-html=\"$t('intro.start')\"></p>\r\n        <p v-html=\"$t('intro.future')\"></p>\r\n      </article>\r\n\r\n      <article class=\"about\">\r\n        <p v-html=\"$t('intro.credits')\"></p>\r\n\r\n        <section class=\"slideshow\">\r\n          <a href=\"https://www.epfl.ch/\">\r\n            <img src=\"assets/epfl.png\" alt=\"Logo EPFL\">\r\n          </a>\r\n          <a href=\"https://naturalcapitalproject.stanford.edu/\">\r\n            <img src=\"assets/natcap.jpg\" alt=\"Logo NatCap\">\r\n          </a>\r\n        </section>\r\n      </article>\r\n    </template>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport Config from '../config.json'\r\nimport Histogram from './Histogram.vue'\r\n\r\nexport default {\r\n  props: ['layers', 'currentLayerPath', 'currentHistogramX', 'currentHistogramY', 'schoolCount', 'interCommName'],\r\n  components: { Histogram },\r\n  computed: {\r\n    isEspacesVerts() {\r\n      return this.currentLayerPath == Config.EV_path;\r\n    },\r\n\r\n    currentLayerId() {\r\n      return Config.layers[this.currentLayerPath].id\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" type=\"text/scss\">\r\n.sidebar {\r\n  z-index: 500;\r\n  width: 460px;\r\n  max-width: 30%;\r\n  box-sizing: border-box;\r\n  padding: 35px;\r\n  font-size: 0.94em;\r\n\r\n  background: #fff;\r\n  box-shadow: 0 0 2px rgba(0, 0, 0, .3);\r\n  overflow: auto;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n\r\n.sidebar .contextual-info {\r\n  position: relative;\r\n  padding: 10px 0 0;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    display: block;\r\n    border-top: 1px solid #e9e9e9;\r\n    left: -35px;\r\n    right: -35px;\r\n    top: 0;\r\n  }\r\n\r\n  h4 {\r\n    font-size: .9em;\r\n    font-variant-caps: small-caps;\r\n  }\r\n}\r\n\r\n.sidebar p {\r\n  margin: 30px 0;\r\n}\r\n\r\n.sidebar ul {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.sidebar h2 {\r\n  margin-top: 0;\r\n  letter-spacing: -1px;\r\n  font-size: 1.25em;\r\n}\r\n\r\n.sidebar .about {\r\n  font-style: italic;\r\n}\r\n\r\n.sidebar .slideshow {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  margin: 40px 0 20px;\r\n\r\n  a {\r\n    height: 90px;\r\n  }\r\n\r\n  img {\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n.sidebar .button {\r\n  margin: 5px 0 10px;\r\n  font-size: 0.85em;\r\n  display: inline-block;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=0b6d1ab2&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Sidebar.vue\"\nexport default component.exports","<template>\r\n  <div id=\"app\" :class=\"[`tutorial-${currentTutorialStep}`]\">\r\n    \r\n    <transition name=\"fade\">\r\n      <Intro\r\n        v-if=\"introVisible\"\r\n        :isLoading=\"!currentLayerLoaded\"\r\n        @dismiss=\"() => introVisible = false\" />\r\n    </transition>\r\n\r\n    <About v-if=\"aboutVisible\" @dismiss=\"() => aboutVisible = false\" />\r\n\r\n    <section class=\"horizontal-split\">\r\n      <Tutorial\r\n        v-model=\"currentTutorialStep\"\r\n        :currentLayerPath=\"currentLayerPath\"\r\n        @layerChange=\"path => this.currentLayerPath = path\" />\r\n\r\n      <section class=\"vertical-split\">\r\n        <section class=\"menu\">\r\n          <LocationControl\r\n            :onLocation=\"loc => this.currentLocation = loc\" />\r\n          <Layers\r\n            :layers=\"layers\"\r\n            v-model=\"currentLayerPath\" />\r\n          <ZoomControl\r\n            @zoomOut=\"() => currentZoom -= 1\"\r\n            @zoomIn=\"() => currentZoom += 1\" />\r\n\r\n          <a href=\"#\" class=\"about-button\"\r\n            @click.prevent=\"() => aboutVisible = true\">{{ $t('titles.credits') }}</a>\r\n        </section>\r\n\r\n        <Map\r\n          :layers=\"layers\"\r\n          :currentLayerPath=\"currentLayerPath\"\r\n          :currentLocation=\"currentLocation\"\r\n          :currentZoom=\"currentZoom\"\r\n          :isFuture=\"isFuture\"\r\n          @toggleFuture=\"() => isFuture ^= true\"\r\n          @newHistogram=\"(x, y) => {this.currentHistogramX = x; this.currentHistogramY = y;}\" \r\n          @newSchools=\"n => this.schoolCount = n\" \r\n          @newName=\"n => this.interCommName = n\" />\r\n        <Sidebar\r\n          :layers=\"layers\"\r\n          :currentLayerPath=\"currentLayerPath\"\r\n          :currentHistogramX=\"currentHistogramX\"\r\n          :currentHistogramY=\"currentHistogramY\"\r\n          :schoolCount=\"schoolCount\"\r\n          :interCommName=\"interCommName\" />\r\n      </section>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Config from './config.json'\r\n\r\nimport Intro from './components/Intro.vue'\r\nimport Tutorial from './components/Tutorial.vue'\r\nimport About from './components/About.vue'\r\nimport ZoomControl from './components/ZoomControl.vue'\r\nimport LocationControl from './components/LocationControl.vue'\r\nimport Layers from './components/Layers.vue'\r\nimport Map from './components/Map.vue'\r\nimport Sidebar from './components/Sidebar.vue'\r\n\r\n/** The layer that should first be loaded. */\r\nconst defaultLayerPath = Config.EV_path\r\n\r\nexport default {\r\n  components: { Intro, Tutorial, About, ZoomControl, LocationControl, Layers, Map, Sidebar },\r\n\r\n  data: () => ({\r\n    layers: Object.keys(Config.layers).reduce((m, layerPath) => {\r\n      m[layerPath] = Config.layers[layerPath]\r\n      m[layerPath].loaded = false\r\n      m[layerPath].path = layerPath\r\n      return m\r\n    }, {}),\r\n\r\n    isFuture: false,\r\n    currentLayerPath: defaultLayerPath,\r\n\r\n    currentZoom: 0,\r\n    currentLocation: null,\r\n    currentHistogramX: null,\r\n    currentHistogramY: null,\r\n\r\n    introVisible: true,\r\n    sidebarVisible: false,\r\n    aboutVisible: false,\r\n\r\n    currentTutorialStep: 1,\r\n\r\n    interCommName: \"\",\r\n    schoolCount: null,\r\n  }),\r\n\r\n  computed: {\r\n    currentLayerLoaded() {\r\n      return this.layers[this.currentLayerPath].loaded\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    logKey(e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" type=\"text/scss\">\r\nhtml, body {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n  font-size: 15pt;\r\n}\r\n\r\n#app {\r\n  width: 100%;\r\n  height: 100%;\r\n  font-family: 'IBM Plex Sans', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.2rem;\r\n}\r\n\r\nh3 {\r\n  color: #666;\r\n  font-size: 11pt;\r\n  font-weight: normal;\r\n  text-align: center;\r\n}\r\n\r\nh4 {\r\n  color: #666;\r\n  font-size: 16pt;\r\n  font-weight: normal;\r\n  text-align: center;\r\n}\r\n\r\np, ul {\r\n  font-family: 'Crimson Text', serif;\r\n}\r\n\r\n.button {\r\n  text-decoration: none;\r\n  margin: 1.2rem;\r\n  font-size: 14pt;\r\n  padding: 9px 13px;\r\n  border: 1px solid #fff;\r\n  color: #fff;\r\n  text-transform: uppercase;\r\n  font-weight: 300;\r\n  transition: padding .2s;\r\n  position: relative;\r\n  outline: none;\r\n  text-shadow: 0 0 2px rgba(#000, .2);\r\n  box-shadow: 0 0 2px rgba(#000, .2), inset 0 0 2px rgba(#000, .2);\r\n  font-family: 'IBM Plex Sans', sans-serif;\r\n\r\n  &:hover {\r\n    padding: 9px 16px;\r\n  }\r\n\r\n  &.dark {\r\n    color: #000;\r\n    border-color: #000;\r\n  }\r\n\r\n  &.dark.full {\r\n    background: #000;\r\n    color: #fff;\r\n  }\r\n}\r\n\r\n.menu {\r\n  z-index: 500;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.horizontal-split {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.vertical-split {\r\n  display: flex;\r\n  flex-grow: 1;\r\n  background: #000;\r\n  position: relative;\r\n}\r\n\r\n// TODO(liautaud): Create mixins and move everything\r\n// back in their respective files.\r\n.zoom-control, .location-control {\r\n  height: 40px;\r\n  border: 1px solid #bbb;\r\n  box-shadow: 0 0 3px rgba(#000, .2);\r\n  background: #fff;\r\n  display: flex;\r\n  margin: 20px 0;\r\n  flex-basis: content;\r\n\r\n  a {\r\n    outline: none;\r\n    height: 40px;\r\n    width: 39px;\r\n    font-family: 'Courier New';\r\n    font-size: 18pt;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    color: #000;\r\n  }\r\n\r\n  a:first-child {\r\n    border-right: 1px solid #bbb;\r\n  }\r\n}\r\n\r\n.zoom-control {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.about-button {\r\n  display: block;\r\n  text-align: center;\r\n  height: 40px;\r\n  width: 80px;\r\n  line-height: 40px;\r\n  border: 1px solid #bbb;\r\n  border-top: 0;\r\n  box-shadow: 0 0 3px rgba(#000, .2);\r\n  background: #fff;\r\n  text-transform: uppercase;\r\n  color: #666;\r\n  font-size: 10pt;\r\n  text-decoration: none;\r\n}\r\n\r\n#espacesVerts {\r\n  height: 300px;\r\n  width: 100%;\r\n  margin-top: 25px;\r\n  margin-bottom: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=05a50a62&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\r\nimport VueI18n from 'vue-i18n'\r\nimport App from './App.vue'\r\n\r\n// Load the translation locales.\r\nimport fr from './locales/fr.json'\r\nimport en from './locales/en.json'\r\n\r\nVue.config.productionTip = false\r\nVue.use(VueI18n)\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n  i18n: new VueI18n({\r\n    locale: 'fr',\r\n    messages: {fr, en},\r\n  }),\r\n}).$mount('#app')\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}